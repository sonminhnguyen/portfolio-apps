{"version":3,"sources":["context/vmi-context.js","components/vmiUS/dataUS.js","components/vmiUS/searchBarUS.js","components/vmiUS/trendChartUS.js","components/vmiUS/error.js","components/vmiUS/function.js","components/vmiUS/basicInfoUS.js","components/vmiUS/stockValuationUS.js","components/vmiUS/vmiUS.js","components/vmiVN/utils/api.js","components/vmiVN/searchBarVN.js","components/vmiVN/basicInfoVN.js","components/vmiVN/trendChartVN.js","components/vmiVN/stockValuationVN.js","components/vmiVN/utils/functionVN.js","components/vmiVN/vmiVN.js","App.js","reportWebVitals.js","index.js"],"names":["vmiContext","createContext","fetch","require","config","SearchBar","_ref","setSymbol","isLoading","setIsLoading","useState","options","setOptions","render","setRender","handleSearch","async","res","concat","symbol","json","map","report","name","shortname","exchangeShortName","exchDisp","error","console","log","Error","getSymbolList","searchTerm","toUpperCase","then","data","e","useEffect","_jsx","AsyncTypeahead","delay","filterBy","id","onChange","_e$","length","labelKey","minLength","onSearch","placeholder","renderMenuItemChildren","option","props","_jsxs","ListGroup","horizontal","children","Item","className","TrendChart","incomeStatement","cashFlow","useContext","label","setLabel","index","setIndex","X","setX","Y","setY","chartData","labels","datasets","backgroundColor","borderColor","borderWidth","renderData","Object","keys","period","values","operatingCashflow","capitalExpenditures","i","push","ButtonGroup","value","onClick","target","Button","variant","Bar","title","display","text","fontSize","legend","position","setError","ToastContainer","Toast","show","onClose","autohide","Header","Body","calculateDiscountRate","beta","discountRate","calculateInitialIV","netIncome","eps5Y","gdpGrowthRate","initialIV","calculateDataIV","insintricValue","netIncome1","discountFactor1","discountValue1","discountFactor","discountValue","Array","forEach","toRender","num","undefined","toFixed","BasicInfo","ratio","validated","setValidated","basicInfo","setBasicInfo","EPS","quotes","epsTrailingTwelveMonths","PB","priceToBook","PE","trailingPE","epsGrowth5Y","finnhub","metric","PEG","defaultKeyStatistics","pegRatio","PSG","revenueGrowth5Y","ROE5Y","financialData","returnOnEquity","currentRatio","totalDebt","ebitda","debtEbitda","netInterestIncome","interestExpense","totalCashFromOperatingActivities","netInterestCFO","Math","abs","_Fragment","Form","noValidate","onSubmit","event","preventDefault","Row","Group","md","controlId","Label","Control","type","defaultValue","OverlayTrigger","placement","hide","overlay","Tooltip","Col","StockValuation","balanceSheet","initialState","setInitialState","stockV","setStockV","stockVCalculate","setStockVCalculate","indexData","setIndexData","formRef","React","useRef","freeCashflow","cashAndShortTermInvestments","cash","shortTermInvestments","epsGrowth10Y","sharesOutstanding","price","currentPrice","pv20Y","debtPerShare","cashPerShare","finalIV","calculatedData","premium","Container","xs","current","reset","stopPropagation","formObj","parseFloat","ref","autoComplete","readOnly","VmiUS","setIncomeStatement","setBalanceSheet","setCashFlow","setRatio","getIncomeStatement","getBalanceSheet","getCashFlow","key","getRatio","process","Suspense","fallback","Provider","fluid","date","Date","yesterday","now","toISOString","today","year","getFullYear","headers","Authorization","Host","getSymbolListVN","description","BasicInfoVN","dataBasicInfo","epsNormalizedAnnual","epsIndustry","pbAnnual","pbIndustry","peNormalizedAnnual","peIndustry","psAnnual","psIndustry","peg","psg","roae5Y","roeIndustry","currentRatioAnnual","currentRatioAnnualIndustry","debtServicingRatio","dividend","dividendYield","dataTrendChart","trendChart","setTrendChart","revenue","freeCashFlow","StockValuationVN","dataStockV","growthRate5Y","array","pow","VmiVN","ratioCafeF","setRatioCafeF","profile","setProfile","priceVN","setPriceVN","setDataBasicInfo","setDataStockV","setDataTrendChart","getCompanyProfileVN","reports","INCOME_STATEMENT","element","returnreport","getIncomeStatementVN","BALANCE_SHEET","getBalanceSheetVN","arguments","CASH_FLOW","getCashFLowVN","shortName","change","industryValue","getRatioVN","getPriceVN","Symbol","Year","BV","ROA","ROE","ROS","GOS","DAR","getRatioCafeF","_incomeStatement$find","_incomeStatement$find2","_balanceSheet$find","_balanceSheet$find2","_cashFlow$find","_cashFlow$find2","_balanceSheet$find3","_balanceSheet$find4","_ratio$find","_ratio$find2","_ratio$find3","_ratio$find4","_ratio$find5","_ratio$find6","_ratio$find7","_ratio$find8","_ratio$find9","_ratio$find10","_ratio$find11","_ratio$find12","_ratio$find13","_cashFlow$find3","_cashFlow$find4","_cashFlow$find5","_cashFlow$find6","_incomeStatement$find3","sum","average5Y","find","slice","reverse","shortTermDebt","longTermDebt","capitalExpenditure","netIncome_TTM","netProfit_TTM","amortization","interestOnDeposits","if","interestIncome","priceClose","freeCashflow_TTM","lg","TrendChartVN","App","Navbar","expand","bg","Brand","href","Nav","Link","as","to","Toggle","Collapse","NavItem","Switch","Route","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","BrowserRouter","basename","document","getElementById"],"mappings":"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","file":"static/js/main.0540801a.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nconst vmiContext = createContext()\r\n\r\nexport { vmiContext as default }","const fetch = require('node-fetch')\r\nrequire('dotenv').config()\r\n\r\n//use for US stock\r\nconst getSymbolList = async (symbol) => {\r\n    try {\r\n        const res = await fetch(`api/vmiUS/getSymbolList/${symbol}`)\r\n        const reports = await res.json();\r\n        const SYMBOL_LIST = reports.map(report => ({\r\n            symbol: report.symbol,\r\n            name: report.shortname,\r\n            exchangeShortName: report.exchDisp\r\n        }))\r\n\r\n        return SYMBOL_LIST;\r\n    } catch (error) {\r\n        console.log(error);\r\n        return new Error({ error });\r\n    }\r\n}\r\n\r\nconst getIncomeStatement = async (symbol) => {\r\n    try {\r\n        const res = await fetch(`api/vmiUS/getIncomeStatement/${symbol}`)\r\n        const json = await res.json();\r\n        return json;\r\n    } catch (error) {\r\n        return new Error({ error });\r\n    }\r\n}\r\n\r\nconst getBalanceSheet = async (symbol) => {\r\n    try {\r\n        const res = await fetch(`api/vmiUS/getBalanceSheet/${symbol}`)\r\n        const json = await res.json();\r\n        return json;\r\n    } catch (error) {\r\n        return new Error({ error });\r\n    }\r\n}\r\n\r\nconst getCashFlow = async (symbol) => {\r\n    try {\r\n        const res = await fetch(`api/vmiUS/getCashFlow/${symbol}`)\r\n        const json = await res.json();\r\n        return json;\r\n    } catch (error) {\r\n        return new Error({ error });\r\n    }\r\n}\r\n\r\nconst getRatio = async (symbol, key) => {\r\n    try {\r\n        const res = await fetch(`api/vmiUS/getRatio/${symbol}/${key}`)\r\n        const json = await res.json();\r\n        return json;\r\n    } catch (error) {\r\n        return new Error({ error });\r\n    }\r\n}\r\n\r\nexport {\r\n    getSymbolList,\r\n    getIncomeStatement,\r\n    getBalanceSheet,\r\n    getCashFlow,\r\n    getRatio\r\n}\r\n\r\n// const getSymbolList = async (symbol, key) => {\r\n//     try {\r\n//         const res = await fetch(`https://financialmodelingprep.com/api/v3/search-ticker?query=${symbol}&limit=10&apikey=${key}`)\r\n//         const reports = await res.json();\r\n//         const SYMBOL_LIST = reports.map(report => ({\r\n//             symbol: report.symbol,\r\n//             name: report.name,\r\n//             exchangeShortName: report.exchangeShortName\r\n//         }))\r\n//         return SYMBOL_LIST;\r\n//     } catch (error) {\r\n//         console.log(error);\r\n//         return new Error({ error });\r\n//     }\r\n// }\r\n\r\n// const getCompanyQuote = async (symbol, key) => {\r\n//     try {\r\n//         const res = await fetch(`https://financialmodelingprep.com/api/v3/quote/${symbol}?apikey=${key}`)\r\n//         const reports = await res.json();\r\n//         const COMPANY_QUOTE = reports[0]\r\n//         Object.entries(COMPANY_QUOTE).forEach(value => {\r\n//             if (isNaN(value[1])) {\r\n//                 COMPANY_QUOTE[value[0]] = 0\r\n//             } else {\r\n//                 COMPANY_QUOTE[value[0]] = parseFloat(value[1])\r\n//             }\r\n//         })\r\n//         return COMPANY_QUOTE;\r\n//     } catch (error) {\r\n//         return new Error({ error });\r\n//     }\r\n// }\r\n\r\n// const getIncomeStatement = async (symbol, key) => {\r\n//     try {\r\n//         const INCOME_STATEMENT = {\r\n//             fiscalDateEnding: [],\r\n//             reportedCurrency: [],\r\n//             grossProfit: [],\r\n//             totalRevenue: [],\r\n//             costOfRevenue: [],\r\n//             costofGoodsAndServicesSold: [],\r\n//             operatingIncome: [],\r\n//             sellingGeneralAndAdministrative: [],\r\n//             researchAndDevelopment: [],\r\n//             operatingExpenses: [],\r\n//             investmentIncomeNet: [],\r\n//             netInterestIncome: [],\r\n//             interestIncome: [],\r\n//             interestExpense: [],\r\n//             nonInterestIncome: [],\r\n//             otherNonOperatingIncome: [],\r\n//             depreciation: [],\r\n//             depreciationAndAmortization: [],\r\n//             incomeBeforeTax: [],\r\n//             incomeTaxExpense: [],\r\n//             interestAndDebtExpense: [],\r\n//             netIncomeFromContinuingOperations: [],\r\n//             comprehensiveIncomeNetOfTax: [],\r\n//             ebit: [],\r\n//             ebitda: [],\r\n//             netIncome: []\r\n//         }\r\n//         const res = await fetch(`https://www.alphavantage.co/query?function=INCOME_STATEMENT&symbol=${symbol}&apikey=${key}`)\r\n//         const data = await res.json();\r\n\r\n//         //GET ANNUAL REPORT\r\n//         const reports = data.annualReports\r\n//         reports.forEach(report =>\r\n//             Object.entries(report).forEach(value => {\r\n//                 if (value[0] === \"fiscalDateEnding\" || value[0] === \"reportedCurrency\") {\r\n//                     INCOME_STATEMENT[value[0]].push(value[1])\r\n//                 } else {\r\n//                     if (isNaN(value[1])) {\r\n//                         INCOME_STATEMENT[value[0]].push(0)\r\n//                     } else {\r\n//                         //convert to millions with fixed 2 decimal\r\n//                         const num = parseFloat(value[1]) / 1000000\r\n//                         INCOME_STATEMENT[value[0]].push(num)\r\n//                     }\r\n//                 }\r\n//             })\r\n//         )\r\n//         return INCOME_STATEMENT;\r\n//     } catch (error) {\r\n//         return new Error({ error });\r\n//     }\r\n// }\r\n\r\n// const getBalanceSheet = async (symbol, key) => {\r\n//     try {\r\n//         const res = await fetch(`https://www.alphavantage.co/query?function=BALANCE_SHEET&symbol=${symbol}&apikey=${key}`)\r\n//         const data = await res.json();\r\n\r\n//         //GET ONLY THE LATEST QUARTER\r\n//         const BALANCE_SHEET = data.quarterlyReports[0]\r\n//         Object.entries(BALANCE_SHEET).forEach(value => {\r\n//             // convert to millions if not 2 cases\r\n//             if (value[0] !== \"fiscalDateEnding\" && value[0] !== \"reportedCurrency\") {\r\n//                 if (isNaN(value[1])) {\r\n//                     BALANCE_SHEET[value[0]] = 0\r\n//                 } else {\r\n//                     BALANCE_SHEET[value[0]] = parseFloat(value[1]) / 1000000\r\n//                 }\r\n//             }\r\n//         })\r\n//         return BALANCE_SHEET\r\n//     } catch (error) {\r\n//         return new Error({ error });\r\n//     }\r\n// }\r\n\r\n// const getCashFlow = async (symbol, key) => {\r\n//     try {\r\n//         const CASH_FLOW = {\r\n//             fiscalDateEnding: [],\r\n//             reportedCurrency: [],\r\n//             operatingCashflow: [],\r\n//             paymentsForOperatingActivities: [],\r\n//             proceedsFromOperatingActivities: [],\r\n//             changeInOperatingLiabilities: [],\r\n//             changeInOperatingAssets: [],\r\n//             depreciationDepletionAndAmortization: [],\r\n//             capitalExpenditures: [],\r\n//             changeInReceivables: [],\r\n//             changeInInventory: [],\r\n//             profitLoss: [],\r\n//             cashflowFromInvestment: [],\r\n//             cashflowFromFinancing: [],\r\n//             proceedsFromRepaymentsOfShortTermDebt: [],\r\n//             paymentsForRepurchaseOfCommonStock: [],\r\n//             paymentsForRepurchaseOfEquity: [],\r\n//             paymentsForRepurchaseOfPreferredStock: [],\r\n//             dividendPayout: [],\r\n//             dividendPayoutCommonStock: [],\r\n//             dividendPayoutPreferredStock: [],\r\n//             proceedsFromIssuanceOfCommonStock: [],\r\n//             proceedsFromIssuanceOfLongTermDebtAndCapitalSecuritiesNet: [],\r\n//             proceedsFromIssuanceOfPreferredStock: [],\r\n//             proceedsFromRepurchaseOfEquity: [],\r\n//             proceedsFromSaleOfTreasuryStock: [],\r\n//             changeInCashAndCashEquivalents: [],\r\n//             changeInExchangeRate: [],\r\n//             netIncome: []\r\n//         }\r\n//         const res = await fetch(`https://www.alphavantage.co/query?function=CASH_FLOW&symbol=${symbol}&apikey=${key}`)\r\n//         const data = await res.json();\r\n\r\n//         //GET ANNUAL REPORT\r\n//         const reports = data.annualReports\r\n//         reports.forEach(report =>\r\n//             Object.entries(report).forEach(value => {\r\n//                 //push string with 2 cases\r\n//                 if (value[0] === \"fiscalDateEnding\" || value[0] === \"reportedCurrency\") {\r\n//                     CASH_FLOW[value[0]].push(value[1])\r\n//                 } else {\r\n//                     if (isNaN(value[1])) {\r\n//                         CASH_FLOW[value[0]].push(0)\r\n//                     } else {\r\n//                         //convert to millions with fixed 2 decimal\r\n//                         const num = parseFloat(value[1]) / 1000000\r\n//                         CASH_FLOW[value[0]].push(num)\r\n//                     }\r\n//                 }\r\n//             })\r\n//         )\r\n//         return CASH_FLOW;\r\n//     } catch (error) {\r\n//         return new Error({ error });\r\n//     }\r\n// }\r\n\r\n// const getRatio = async (symbol, key) => {\r\n//     try {\r\n//         const res = await fetch(`https://finnhub.io/api/v1/stock/metric?symbol=${symbol}&metric=all&token=${key}`)\r\n//         const data = await res.json();\r\n//         const RATIO = data.metric;\r\n//         return RATIO;\r\n//     } catch (error) {\r\n//         return new Error({ error });\r\n//     }\r\n// }\r\n\r\n// export {\r\n//     getSymbolList,\r\n//     getCompanyQuote,\r\n//     getIncomeStatement,\r\n//     getBalanceSheet,\r\n//     getCashFlow,\r\n//     getRatio\r\n// }","import React, { useEffect, useState } from \"react\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport { AsyncTypeahead } from \"react-bootstrap-typeahead\";\r\nimport { getSymbolList } from \"./dataUS\";\r\n\r\nconst SearchBar = ({ setSymbol }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [options, setOptions] = useState([]);\r\n  const [render, setRender] = useState([]);\r\n\r\n  const handleSearch = async (searchTerm) => {\r\n    setIsLoading(true);\r\n    try {\r\n      getSymbolList(searchTerm.toUpperCase()).then((data) => {\r\n        setOptions(data)\r\n        setIsLoading(false);\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleSelect = (e) => options.length !== 0 && setSymbol(e[0]?.symbol);\r\n\r\n  // Bypass client-side filtering by returning `true`. Results are already\r\n  // filtered by the search endpoint, so no need to do it again.\r\n  const filterBy = () => true;\r\n  useEffect(() => {\r\n    setRender(options);\r\n  }, [options]);\r\n  return (\r\n    <AsyncTypeahead\r\n      delay={1000}\r\n      filterBy={filterBy}\r\n      id=\"search-symbol-US\"\r\n      isLoading={isLoading}\r\n      onChange={handleSelect}\r\n      labelKey=\"symbol\"\r\n      minLength={1}\r\n      onSearch={(searchTerm) => handleSearch(searchTerm)}\r\n      options={render}\r\n      placeholder=\"Enter a symbol\"\r\n      renderMenuItemChildren={(option, props) => (\r\n        <ListGroup horizontal=\"sm\">\r\n          <ListGroup.Item>{option.symbol}</ListGroup.Item>\r\n          <ListGroup.Item>{option.name}</ListGroup.Item>\r\n          <ListGroup.Item className=\"ml-auto\">\r\n            {option.exchangeShortName}\r\n          </ListGroup.Item>\r\n        </ListGroup>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n\r\n//   const [searchTerm, setSearchTerm] = useState(\"\");\r\n//   const debouncedSearchTerm = useDebounce(searchTerm, 500);\r\n\r\n//   useEffect(() => {\r\n//     if (debouncedSearchTerm) {\r\n//       setIsLoading(true);\r\n//       handleSearch(debouncedSearchTerm);\r\n//       setIsLoading(false);\r\n//     }\r\n//   }, [debouncedSearchTerm]);\r\n\r\n//   onSearch={(searchTerm) => setSearchTerm(searchTerm)}\r\n\r\n// function useDebounce(value, delay) {\r\n//   // State and setters for debounced value\r\n//   const [debouncedValue, setDebouncedValue] = useState(value);\r\n//   useEffect(\r\n//     () => {\r\n//       // Update debounced value after delay\r\n//       const handler = setTimeout(() => {\r\n//         setDebouncedValue(value);\r\n//       }, delay);\r\n//       // Cancel the timeout if value changes (also on delay change or unmount)\r\n//       // This is how we prevent debounced value from updating if value is changed ...\r\n//       // .. within the delay period. Timeout gets cleared and restarted.\r\n//       return () => {\r\n//         clearTimeout(handler);\r\n//       };\r\n//     },\r\n//     [value, delay] // Only re-call effect if value or delay changes\r\n//   );\r\n//   return debouncedValue;\r\n// }\r\n","/* eslint-disable */\r\nimport React, { useContext, useState, useEffect } from 'react'\r\n//dont delete import chart\r\nimport { Chart as ChartJS } from 'chart.js/auto'\r\nimport { Bar } from 'react-chartjs-2'\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\r\nimport Button from 'react-bootstrap/Button'\r\nimport vmiContext from '../../context/vmi-context'\r\n\r\nconst TrendChart = () => {\r\n    const { incomeStatement, cashFlow } = useContext(vmiContext)\r\n    const [label, setLabel] = useState(\"\")\r\n    const [index, setIndex] = useState(\"totalRevenue\");\r\n    const [X, setX] = useState([0])\r\n    const [Y, setY] = useState([0])\r\n\r\n    const chartData = {\r\n        labels: X,\r\n        datasets: [\r\n            {\r\n                label: label,\r\n                backgroundColor: '#0dcaf0',\r\n                borderColor: '#0dcaf0',\r\n                borderWidth: 2,\r\n                data: Y\r\n            }\r\n        ]\r\n    }\r\n    \r\n    const handleChange = (e) => {\r\n        setIndex(e.target.value);\r\n    }\r\n\r\n    useEffect(() => {\r\n        let renderData = {}\r\n\r\n        if(\r\n            Object.keys(incomeStatement).length !== 0 \r\n            && Object.keys(cashFlow).length !== 0\r\n        ) {\r\n            switch (index) {\r\n                case \"totalRevenue\": \r\n                    setLabel(\"Revenue\")\r\n                    renderData = {\r\n                        period: incomeStatement[\"endDate\"],\r\n                        values: incomeStatement[\"totalRevenue\"] \r\n                    }\r\n                    break;\r\n                case \"netIncome\": \r\n                    setLabel(\"Net Income\")\r\n                    renderData = {\r\n                        period: incomeStatement[\"endDate\"],\r\n                        values: incomeStatement[\"netIncome\"] \r\n                    } \r\n                    break;\r\n                case \"operatingCashflow\": \r\n                    setLabel(\"Operating CashFlow\")\r\n                    renderData = {\r\n                        period: cashFlow[\"endDate\"],\r\n                        values: cashFlow[\"totalCashFromOperatingActivities\"] \r\n                    } \r\n                    break;\r\n                case \"freeCashflow\": \r\n                    setLabel(\"Free CashFlow\")\r\n                    const operatingCashflow = cashFlow[\"totalCashFromOperatingActivities\"] \r\n                    const capitalExpenditures = cashFlow[\"capitalExpenditures\"]\r\n                    let values = []\r\n                    for(let i = 0; i < 4; i++) {\r\n                        values.push(operatingCashflow[i] + capitalExpenditures[i])\r\n                    }\r\n                    renderData = {\r\n                        period: cashFlow[\"endDate\"],\r\n                        values\r\n                    } \r\n                    break;\r\n                default: \r\n                    renderData = {\r\n                        period: incomeStatement[\"endDate\"],\r\n                        values: incomeStatement[\"totalRevenue\"] \r\n                    } \r\n                    break;\r\n            }\r\n            setX(renderData.period)\r\n            setY(renderData.values)\r\n        }\r\n    }, [index, incomeStatement, cashFlow])\r\n\r\n    return (\r\n        <div>\r\n            <ButtonGroup value={index} onClick={handleChange} >\r\n                <Button variant=\"secondary\" value=\"totalRevenue\">Total Revenue</Button>\r\n                <Button variant=\"secondary\" value=\"netIncome\">Net Income</Button>\r\n                <Button variant=\"secondary\" value=\"operatingCashflow\">Operating CashFlow</Button>\r\n                <Button variant=\"secondary\" value=\"freeCashflow\">Free CashFlow</Button>\r\n            </ButtonGroup>\r\n\r\n            <Bar\r\n                data={chartData}\r\n                options={{\r\n                    title: {\r\n                        display: true,\r\n                        text: 'Average Rainfall per month',\r\n                        fontSize: 20\r\n                    },\r\n                    legend: {\r\n                        display: true,\r\n                        position: 'right'\r\n                    }\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TrendChart","import React from \"react\";\r\nimport ToastContainer from 'react-bootstrap/ToastContainer'\r\nimport Toast from 'react-bootstrap/Toast'\r\n\r\nconst Error = ({ error, setError }) => {\r\n    return (\r\n        <ToastContainer className=\"p-3\" position=\"top-center\">\r\n            <Toast  show={error} delay={3000} onClose={() => setError(false)} autohide>\r\n                <Toast.Header>\r\n                    {/* <img src=\"holder.js/20x20?text=%20\" className=\"rounded me-2\" alt=\"\" /> */}\r\n                    <strong className=\"me-auto\">Error</strong>\r\n                    <small className=\"text-muted\">just now</small>\r\n                </Toast.Header>\r\n                <Toast.Body>Please try again after 1 minute!</Toast.Body>\r\n            </Toast>\r\n        </ToastContainer>\r\n    )\r\n}\r\n\r\nexport default Error;","const calculateDiscountRate = (beta) => {\r\n    let discountRate = 0\r\n    switch (true) {\r\n        case beta <= 0.8: discountRate = 5; break;\r\n        case beta <= 1: discountRate = 5.9; break;\r\n        case beta <= 1.1: discountRate = 6.3; break;\r\n        case beta <= 1.2: discountRate = 6.7; break;\r\n        case beta <= 1.3: discountRate = 7.2; break;\r\n        case beta <= 1.4: discountRate = 7.6; break;\r\n        case beta <= 1.5: discountRate = 8; break;\r\n        case beta > 1.5: discountRate = 8.4; break;\r\n        default: discountRate = 7.2; break;\r\n    }\r\n    return discountRate;\r\n}\r\n\r\nconst calculateDataIV = (netIncome, eps5Y, discountRate, gdpGrowthRate) => {\r\n    const insintricValue = []\r\n    const netIncome1 = netIncome * (1 + eps5Y)\r\n    const discountFactor1 = 1 / (1 + discountRate)\r\n    const discountValue1 = netIncome1 * discountFactor1\r\n\r\n    insintricValue.push({\r\n        netIncome: netIncome1,\r\n        discountFactor: discountFactor1,\r\n        discountValue: discountValue1\r\n    });\r\n\r\n    [...Array(4).keys()].forEach((index) => {\r\n        const netIncome = insintricValue[index].netIncome * (1 + eps5Y)\r\n        const discountFactor = insintricValue[index].discountFactor / (1 + discountRate)\r\n        const discountValue = netIncome * discountFactor\r\n        insintricValue.push({ netIncome, discountFactor, discountValue })\r\n    });\r\n\r\n    [4, 5, 6, 7, 8].forEach((index) => {\r\n        const netIncome = insintricValue[index].netIncome * (1 + eps5Y / 2)\r\n        const discountFactor = insintricValue[index].discountFactor / (1 + discountRate)\r\n        const discountValue = netIncome * discountFactor\r\n        insintricValue.push({ netIncome, discountFactor, discountValue })\r\n    });\r\n\r\n    [9, 10, 11, 12, 13, 14, 15, 16, 17, 18].forEach((index) => {\r\n        const netIncome = insintricValue[index].netIncome * (1 + gdpGrowthRate)\r\n        const discountFactor = insintricValue[index].discountFactor / (1 + discountRate)\r\n        const discountValue = netIncome * discountFactor\r\n        insintricValue.push({ netIncome, discountFactor, discountValue })\r\n    });\r\n\r\n    return insintricValue;\r\n}\r\n\r\nconst calculateInitialIV = (netIncome, eps5Y, discountRate, gdpGrowthRate) => {\r\n    let initialIV = 0\r\n    const data = calculateDataIV(netIncome, eps5Y, discountRate, gdpGrowthRate);\r\n    data.forEach(e => {\r\n        initialIV += e.discountValue\r\n    })\r\n    return initialIV;\r\n};\r\n\r\nconst toRender = (num) => {\r\n    if (num === undefined || typeof (num) !== \"number\") {\r\n        return \"\"\r\n    }\r\n    return num.toFixed(2);\r\n}\r\n\r\nexport {\r\n    calculateDiscountRate,\r\n    calculateInitialIV,\r\n    calculateDataIV,\r\n    toRender\r\n}","import React, { useState, useContext, useEffect } from \"react\";\r\nimport Form from 'react-bootstrap/Form'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport vmiContext from \"../../context/vmi-context\";\r\nimport { toRender } from \"./function\";\r\n\r\nconst BasicInfo = () => {\r\n    const { incomeStatement, cashFlow, ratio } = useContext(vmiContext)\r\n    const [validated, setValidated] = useState(false);\r\n    const [basicInfo, setBasicInfo] = useState({})\r\n\r\n    useEffect(() => {\r\n        if (Object.keys(incomeStatement).length !== 0\r\n            && Object.keys(cashFlow).length !== 0\r\n            && Object.keys(ratio).length !== 0\r\n        ) {\r\n            const basicInfo = {\r\n                EPS: ratio.quotes.epsTrailingTwelveMonths || 0,\r\n                PB: ratio.quotes.priceToBook || 0,\r\n                PE: ratio.quotes.trailingPE || 0,\r\n                epsGrowth5Y: ratio.finnhub.metric.epsGrowth5Y || 0,\r\n                PEG: ratio.defaultKeyStatistics.pegRatio || 0,\r\n                PSG: (ratio.quotes.priceToBook / ratio.finnhub.metric.revenueGrowth5Y) || 0,\r\n                ROE5Y: ratio.financialData.returnOnEquity || 0,\r\n                currentRatio: ratio.financialData.currentRatio || 0,\r\n                totalDebt: (ratio.financialData.totalDebt / 1000000) || 0,\r\n                ebitda: (ratio.financialData.ebitda / 1000000) || 0,\r\n                debtEbitda: (ratio.financialData.totalDebt / ratio.financialData.ebitda) || 0,\r\n                netInterestIncome: incomeStatement.interestExpense[0] || 0,\r\n                operatingCashflow: cashFlow.totalCashFromOperatingActivities[0] || 0,\r\n                netInterestCFO: Math.abs(incomeStatement.interestExpense[0] / cashFlow.totalCashFromOperatingActivities[0] * 100) || 0,\r\n            }\r\n            setBasicInfo(basicInfo)\r\n        }\r\n    }, [incomeStatement, cashFlow, ratio])\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        // const form = event.currentTarget;\r\n        // if (form.checkValidity() === false) {\r\n        //   event.preventDefault();\r\n        //   event.stopPropagation();\r\n        // }\r\n        // console.log(event.target.validationCustom02.defaultValue);\r\n        setValidated(true);\r\n    };\r\n    return (\r\n        <>\r\n            <Form noValidate validated={validated} onSubmit={handleSubmit}>\r\n                <Row className=\"mb-3\">\r\n                    <Form.Group md=\"3\" controlId=\"EPS\">\r\n                        <Form.Label>EPS</Form.Label>\r\n                        <Form.Control type=\"text\" placeholder=\"EPS\" defaultValue={toRender(basicInfo.EPS)} />\r\n                    </Form.Group>\r\n                    <OverlayTrigger placement=\"top\" delay={{ show: 250, hide: 400 }}\r\n                        overlay={<Tooltip id=\"button-tooltip-2\">For company losing money: less than 0.5; For Banks, REITS: 1-1.2</Tooltip>}>\r\n                        <Form.Group md=\"3\" controlId=\"P/B\">\r\n                            <Form.Label>P/B</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"P/B\" defaultValue={toRender(basicInfo.PB)} />\r\n                        </Form.Group>\r\n                    </OverlayTrigger>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Group md=\"3\" controlId=\"pe\" >\r\n                            <Form.Label>P/E</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"P/E\" defaultValue={toRender(basicInfo.PE)} />\r\n                        </Form.Group>\r\n                        <Form.Group md=\"4\" controlId=\"epsGrowth5Y\" >\r\n                            <Form.Label>EPS Growth 5Y %</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"EPS Growth 5Y\" defaultValue={toRender(basicInfo.epsGrowth5Y)} />\r\n                        </Form.Group>\r\n                    </Col>\r\n                    <Col>\r\n                        <OverlayTrigger placement=\"top\" delay={{ show: 250, hide: 400 }}\r\n                            overlay={<Tooltip id=\"button-tooltip-2\">Good if less than 1.5</Tooltip>}>\r\n                            <Form.Group md=\"6\" controlId=\"PEG\" >\r\n                                <Form.Label>PEG</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"PEG\" defaultValue={toRender(basicInfo.PEG)} />\r\n                            </Form.Group>\r\n                        </OverlayTrigger>\r\n                        <OverlayTrigger placement=\"top\" delay={{ show: 250, hide: 400 }}\r\n                            overlay={<Tooltip id=\"button-tooltip-2\">For new Growth companies with strong revenue growth, 0.2 is Fair value, above is overvalued</Tooltip>}>\r\n                            <Form.Group md=\"6\" controlId=\"PSG\" >\r\n                                <Form.Label>PSG</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"PSG\" defaultValue={toRender(basicInfo.PSG)} />\r\n                            </Form.Group>\r\n                        </OverlayTrigger>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <OverlayTrigger placement=\"top\" delay={{ show: 250, hide: 400 }}\r\n                        overlay={<Tooltip id=\"button-tooltip-2\">At least 12%-15%</Tooltip>}>\r\n                        <Form.Group md=\"4\" controlId=\"ROE5Y\" >\r\n                            <Form.Label>ROE 5Y %</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"ROE 5Y\" defaultValue={toRender(basicInfo.ROE5Y)} />\r\n                        </Form.Group>\r\n                    </OverlayTrigger>\r\n                    <OverlayTrigger placement=\"top\" delay={{ show: 250, hide: 400 }}\r\n                        overlay={<Tooltip id=\"button-tooltip-2\">More than 1</Tooltip>}>\r\n                        <Form.Group md=\"4\" controlId=\"currentRatio\" >\r\n                            <Form.Label>Current Ratio</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Current Ratio\" defaultValue={toRender(basicInfo.currentRatio)} />\r\n                        </Form.Group>\r\n                    </OverlayTrigger>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Group md=\"6\" controlId=\"totalDebt\" >\r\n                            <Form.Label>Total Debt</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Total Debt\" defaultValue={toRender(basicInfo.totalDebt)} />\r\n                        </Form.Group>\r\n                        <Form.Group md=\"6\" controlId=\"ebitda\" >\r\n                            <Form.Label>EBITDA</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"EBITDA\" defaultValue={toRender(basicInfo.ebitda)} />\r\n                        </Form.Group>\r\n                    </Col>\r\n                    <Col>\r\n                        <OverlayTrigger placement=\"top\" delay={{ show: 250, hide: 400 }}\r\n                            overlay={<Tooltip id=\"button-tooltip-2\">Less than 3</Tooltip>}>\r\n                            <Form.Group md=\"6\" controlId=\"Debt/EBITDA \" >\r\n                                <Form.Label>Debt/EBITDA</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"Debt / EBITDA\" defaultValue={toRender(basicInfo.debtEbitda)} />\r\n                            </Form.Group>\r\n                        </OverlayTrigger>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <Form.Group md=\"6\" controlId=\"Interestexpense\" >\r\n                            <Form.Label>Net Interest Income</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Net Interest Income\" defaultValue={toRender(basicInfo.netInterestIncome)} />\r\n                        </Form.Group>\r\n                        <Form.Group md=\"6\" controlId=\"CashFlowOperation\" >\r\n                            <Form.Label>Operating CashFlow</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Operating CashFlow\" defaultValue={toRender(basicInfo.operatingCashflow)} />\r\n                        </Form.Group>\r\n                    </Col>\r\n                    <Col>\r\n                        <OverlayTrigger placement=\"top\" delay={{ show: 250, hide: 400 }}\r\n                            overlay={<Tooltip id=\"button-tooltip-2\">Less than 30%</Tooltip>}>\r\n                            <Form.Group md=\"6\" controlId=\"netInterestCFO\" >\r\n                                <Form.Label>Debt Servicing Ratio %</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"Interest expense / CFO\" defaultValue={toRender(basicInfo.netInterestCFO)} />\r\n                            </Form.Group>\r\n                        </OverlayTrigger>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default BasicInfo;","import React, { useState, useContext, useEffect } from \"react\";\r\nimport Form from 'react-bootstrap/Form'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Container from 'react-bootstrap/Container'\r\nimport vmiContext from \"../../context/vmi-context\";\r\nimport { calculateDiscountRate, calculateInitialIV, toRender } from './function'\r\n\r\nconst StockValuation = () => {\r\n\tconst { incomeStatement, balanceSheet, cashFlow, ratio, } = useContext(vmiContext);\r\n\t// const [validated, setValidated] = useState(false);\r\n\tconst [initialState, setInitialState] = useState({})\r\n\tconst [stockV, setStockV] = useState({});\r\n\tconst [stockVCalculate, setStockVCalculate] = useState({});\r\n\tconst [index, setIndex] = useState(\"netIncome\");\r\n\tconst [indexData, setIndexData] = useState(\"\");\r\n\tconst formRef = React.useRef(initialState);\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tsetIndex(event.target.value)\r\n\t}\r\n\t\r\n\tconst handleReset = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetStockV(initialState)\r\n\t\tformRef.current.reset()\r\n\t}\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\tconst formObj = {\r\n\t\t\t...stockV,\r\n\t\t\ttotalDebt: parseFloat(event.target.totalDebt.value),\r\n\t\t\tcashAndShortTermInvestments: parseFloat(event.target.cashAndShortTermInvestments.value),\r\n\t\t\tepsGrowth5Y: parseFloat(event.target.epsGrowth5Y.value),\r\n\t\t\tepsGrowth10Y: parseFloat(event.target.epsGrowth10Y.value),\r\n\t\t\tgdpGrowthRate: parseFloat(event.target.gdpGrowthRate.value),\r\n\t\t\tdiscountRate: parseFloat(event.target.discountRate.value),\r\n\t\t\tsharesOutstanding: parseFloat(event.target.sharesOutstanding.value),\r\n\t\t\tprice: parseFloat(event.target.price.value)\r\n\t\t}\r\n\t\tsetStockV(formObj)\r\n\r\n\t\t// const form = event.currentTarget;\r\n\t\t// if (form.checkValidity() === false) {\r\n\t\t//   event.preventDefault();\r\n\t\t//   event.stopPropagation();\r\n\t\t// }\r\n\t\t// setValidated(true);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\tObject.keys(incomeStatement).length !== 0\r\n\t\t\t&& Object.keys(balanceSheet).length !== 0\r\n\t\t\t&& Object.keys(cashFlow).length !== 0\r\n\t\t\t&& Object.keys(ratio).length !== 0\r\n\t\t) {;\r\n\t\t\tconst netIncome = cashFlow.netIncome[0] || 0;\r\n\t\t\tconst operatingCashflow = cashFlow.totalCashFromOperatingActivities[0] || 0;\r\n\t\t\tconst capitalExpenditure = cashFlow.capitalExpenditures[0] || 0;\r\n\t\t\tconst freeCashflow = operatingCashflow + capitalExpenditure || 0;\r\n\t\t\tconst totalDebt = (ratio.financialData.totalDebt / 1000000) || 0;\r\n\t\t\tconst cashAndShortTermInvestments = (balanceSheet.cash[0] + balanceSheet.shortTermInvestments[0]) || 0;\r\n\t\t\tconst epsGrowth5Y = ratio.finnhub.metric.epsGrowth5Y || 0;\r\n\t\t\tconst epsGrowth10Y = (ratio.finnhub.metric.epsGrowth5Y / 2) || 0;\r\n\t\t\tconst discountRate = calculateDiscountRate(ratio.defaultKeyStatistics.beta) || 0;\r\n\t\t\tconst sharesOutstanding = ratio.defaultKeyStatistics.sharesOutstanding || 0;\r\n\t\t\tconst price = ratio.financialData.currentPrice || 0;\r\n\r\n\t\t\tlet stockV = {\r\n\t\t\t\tnetIncome,\r\n\t\t\t\toperatingCashflow,\r\n\t\t\t\tfreeCashflow,\r\n\t\t\t\ttotalDebt,\r\n\t\t\t\tcashAndShortTermInvestments,\r\n\t\t\t\tepsGrowth5Y,\r\n\t\t\t\tepsGrowth10Y,\r\n\t\t\t\tgdpGrowthRate: 4.18,\r\n\t\t\t\tdiscountRate,\r\n\t\t\t\tsharesOutstanding,\r\n\t\t\t\tprice,\r\n\t\t\t}\r\n\t\t\tsetStockV(stockV)\r\n\t\t\tsetInitialState(stockV)\r\n\t\t}\r\n\r\n\t}, [ratio, cashFlow, balanceSheet, incomeStatement])\r\n\r\n\tuseEffect(() => {\r\n\t\tlet data = 0\r\n\t\tswitch (index) {\r\n\t\t\tcase \"netIncome\":\r\n\t\t\t\tdata = stockV.netIncome;\r\n\t\t\t\tsetIndexData(stockV.netIncome); break;\r\n\t\t\tcase \"operatingCashflow\":\r\n\t\t\t\tdata = stockV.operatingCashflow;\r\n\t\t\t\tsetIndexData(stockV.operatingCashflow); break;\r\n\t\t\tcase \"freeCashflow\":\r\n\t\t\t\tdata = stockV.freeCashflow;\r\n\t\t\t\tsetIndexData(stockV.freeCashflow); break;\r\n\t\t\tdefault:\r\n\t\t\t\tdata = stockV.netIncome;\r\n\t\t\t\tsetIndexData(stockV.netIncome); break;\r\n\t\t}\r\n\r\n\t\tconst pv20Y = calculateInitialIV(data, stockV.epsGrowth5Y / 100, stockV.discountRate / 100, stockV.gdpGrowthRate / 100);\r\n\t\tconst initialIV = pv20Y * 1000000 / stockV.sharesOutstanding;\r\n\t\tconst debtPerShare = stockV.totalDebt * 1000000 / stockV.sharesOutstanding;\r\n\t\tconst cashPerShare = stockV.cashAndShortTermInvestments * 1000000 / stockV.sharesOutstanding;\r\n\t\tconst finalIV = initialIV - debtPerShare + cashPerShare;\r\n\r\n\t\tlet calculatedData = {\r\n\t\t\tpv20Y,\r\n\t\t\tinitialIV,\r\n\t\t\tdebtPerShare,\r\n\t\t\tcashPerShare,\r\n\t\t\tfinalIV,\r\n\t\t\tpremium: (stockV.price / finalIV - 1) * 100,\r\n\t\t}\r\n\t\tsetStockVCalculate(calculatedData)\r\n\t}, [index, stockV])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1 className=\"border-top mt-2\">Stock Valuation</h1>\r\n\t\t\t<Container>\r\n\t\t\t\t<Row xs=\"1\" md=\"2\">\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<ButtonGroup className=\"w-25\" value={index} onClick={handleChange}  >\r\n\t\t\t\t\t\t\t<Button variant=\"secondary\" value=\"netIncome\">Net Income</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"secondary\" value=\"operatingCashflow\">Operating Cash Flow</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"secondary\" value=\"freeCashflow\">FreeCashFlow</Button>\r\n\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Button variant=\"secondary\" onClick={handleReset}>Reset</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form onSubmit={handleSubmit} ref={formRef} className=\"mb-3\" >\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Form.Group md=\"3\" controlId='indexData'>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Value</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Number\" autoComplete=\"off\" defaultValue={toRender(indexData)} />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Form.Group md=\"6\" controlId=\"totalDebt\" >\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Total Debt</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Total Debt\" autoComplete=\"off\" defaultValue={toRender(stockV.totalDebt)} />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Form.Group md=\"6\" controlId=\"cashAndShortTermInvestments\" >\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Cash and ShortTerm-Investments</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Cash And ShortTerm Investments\" autoComplete=\"off\" defaultValue={toRender(stockV.cashAndShortTermInvestments)} />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Form.Group md=\"4\" controlId=\"epsGrowth5Y\" >\r\n\t\t\t\t\t\t\t\t\t<Form.Label>EPS Growth5Y %</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"EPS Growth5Y\" autoComplete=\"off\" defaultValue={toRender(stockV.epsGrowth5Y)} />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Form.Group md=\"4\" controlId=\"epsGrowth10Y\" >\r\n\t\t\t\t\t\t\t\t\t<Form.Label>EPS Growth10Y %</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"EPS Growth10Y\" autoComplete=\"off\" defaultValue={toRender(stockV.epsGrowth10Y)} />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Form.Group md=\"4\" controlId=\"gdpGrowthRate\" >\r\n\t\t\t\t\t\t\t\t\t<Form.Label>GDP GrowthRate %</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"GDP Growth Rate\" defaultValue={toRender(stockV.gdpGrowthRate)} />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Form.Group md=\"4\" controlId=\"discountRate\" >\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Discount Rate %</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Discount Rate\" defaultValue={toRender(stockV.discountRate)} />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Form.Group md=\"4\" controlId=\"sharesOutstanding\" >\r\n\t\t\t\t\t\t\t\t\t<Form.Label>SharesOutstanding</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"SharesOutstanding\" autoComplete=\"off\" defaultValue={toRender(stockV.sharesOutstanding)} />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Form.Group md=\"4\" controlId=\"price\" >\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Last Close</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Price\" autoComplete=\"off\" defaultValue={toRender(stockV.price)} />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<Button variant=\"secondary\" type=\"submit\">Calculate Insintric Value</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Form.Group md=\"3\" controlId=\"pv20Y\">\r\n\t\t\t\t\t\t\t\t<Form.Label>PV of 20 yr</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"PV20Y\" defaultValue={toRender(stockVCalculate.pv20Y)} />\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group md=\"6\" controlId=\"initialIV\" readOnly>\r\n\t\t\t\t\t\t\t\t<Form.Label>Intrinsic Value before cash/debt</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Initial IV\" defaultValue={toRender(stockVCalculate.initialIV)} />\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group md=\"6\" controlId=\"debtPerShare\" readOnly>\r\n\t\t\t\t\t\t\t\t<Form.Label>Less (-) Debt Per Share</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Debt Per Share\" defaultValue={toRender(stockVCalculate.debtPerShare)} />\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group md=\"4\" controlId=\"cashPerShare\" readOnly>\r\n\t\t\t\t\t\t\t\t<Form.Label>Plus (+) Cash Per Share</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"EPS Growth 5Y\" defaultValue={toRender(stockVCalculate.cashPerShare)} />\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group md=\"4\" controlId=\"finalIV\" readOnly>\r\n\t\t\t\t\t\t\t\t<Form.Label>Final Intrinsic Value Per Share</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Final IV\" defaultValue={toRender(stockVCalculate.finalIV)} />\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group md=\"4\" controlId=\"premium\" readOnly>\r\n\t\t\t\t\t\t\t\t<Form.Label>(Discount)/Premium %</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Premium\" defaultValue={toRender(stockVCalculate.premium)} />\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default StockValuation;","import React, { useEffect, useState, Suspense } from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Row from 'react-bootstrap/Row'\r\nimport vmiContext from '../../context/vmi-context'\r\nimport SearchBar from './searchBarUS'\r\nimport TrendChart from './trendChartUS'\r\nimport Error from './error'\r\nimport { getIncomeStatement, getBalanceSheet, getCashFlow, getRatio } from './dataUS'\r\nimport BasicInfo from './basicInfoUS'\r\nimport StockValuation from './stockValuationUS'\r\nrequire('dotenv').config()\r\n\r\nconst VmiUS = () => {\r\n    const [symbol, setSymbol] = useState(\"\")\r\n    const [incomeStatement, setIncomeStatement] = useState({})\r\n    const [balanceSheet, setBalanceSheet] = useState({})\r\n    const [cashFlow, setCashFlow] = useState({})\r\n    const [ratio, setRatio] = useState({})\r\n    const [error, setError] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (symbol.length !== 0) {\r\n            try {\r\n                getIncomeStatement(symbol).then(incomeStatement => setIncomeStatement(incomeStatement))\r\n                getBalanceSheet(symbol).then(balanceSheet => setBalanceSheet(balanceSheet))\r\n                getCashFlow(symbol).then(cashFlow => setCashFlow(cashFlow))\r\n                getRatio(symbol, process.env.REACT_APP_FINNHUB_KEY).then(ratio => setRatio(ratio))\r\n            } catch (e) {\r\n                setError(true)\r\n            }\r\n        }\r\n    }, [symbol])\r\n    console.log(incomeStatement)\r\n    console.log(balanceSheet)\r\n    console.log(cashFlow)\r\n    return (\r\n        <>\r\n            <Suspense fallback={<h1>Still Loading…</h1>}>\r\n                <vmiContext.Provider value={{ incomeStatement, balanceSheet, cashFlow, ratio }}>\r\n                    <Container fluid className=\"mt-3\">\r\n                        <Error error={error} setError={setError} />\r\n                        <Row>\r\n                            <Col xs={1} className='d-flex align-items-center justify-content-center' >\r\n                                <div >Symbol</div>\r\n                            </Col>\r\n                            <Col xs={2} md={4}>\r\n                                <SearchBar setSymbol={setSymbol} />\r\n                            </Col>\r\n                            <div className=\"text-muted\">All number is in millions</div>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                                <BasicInfo />\r\n                            </Col>\r\n                            <Col>\r\n                                <TrendChart />\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <StockValuation />\r\n                        </Row>\r\n                    </Container>\r\n                </vmiContext.Provider>\r\n            </Suspense>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default VmiUS;","const fetch = require(\"node-fetch\");\r\nrequire(\"dotenv\").config();\r\nconst date = new Date()\r\nconst yesterday = new Date(Date.now() - 86400000).toISOString();\r\nconst today = new Date().toISOString();\r\nconst year = date.getFullYear();\r\n\r\n//use for VN stock\r\nconst getSymbolListVN = async (symbol, key) => {\r\n\r\n  try {\r\n    const res = await fetch(\r\n      `https://restv2.fireant.vn/search?keywords=${symbol}&type=symbol&offset=0&limit=20`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${key}`,\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n    const SYMBOL_LIST = await res.json();\r\n    // console.log(SYMBOL_LIST)\r\n    return SYMBOL_LIST;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n//getSymbolListVN(\"C\", key);\r\n\r\nconst getPriceVN = async (symbol, key) => {\r\n  try {\r\n    const res = await fetch(\r\n      `https://api.fireant.vn/symbols/${symbol}/historical-quotes?startDate=${yesterday}&endDate=${today}`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${key}`,\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n    const PRICE = await res.json();\r\n    // console.log(PRICE);\r\n    return PRICE[0];\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n// getPriceVN()\r\n\r\nconst getCompanyProfileVN = async (symbol, key) => {\r\n  try {\r\n    const res = await fetch(\r\n      `https://restv2.fireant.vn/symbols/${symbol}/fundamental`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${key}`,\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n    const COMPANY_PROFILE = await res.json();\r\n    // console.log(COMPANY_PROFILE);\r\n    return COMPANY_PROFILE;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n// getCompanyProfile();\r\n\r\nconst getIncomeStatementVN = async (symbol, key) => {\r\n  try {\r\n    const res = await fetch(\r\n      `https://restv2.fireant.vn/symbols/${symbol}/full-financial-reports?type=2&year=${year}&quarter=0&limit=6`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${key}`,\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n\r\n    const reports = await res.json();\r\n    const INCOME_STATEMENT = [];\r\n\r\n    for (let i = 0; i < reports.length; i++) {\r\n      const report = reports[i];\r\n      const period = [];\r\n      const value = [];\r\n      report.values.forEach((element) => {\r\n        period.push(element.period);\r\n        value.push(element.value / 1000000);\r\n      });\r\n      const returnreport = {\r\n        ...report,\r\n        values: { period, value },\r\n      };\r\n      INCOME_STATEMENT.push(returnreport);\r\n    }\r\n    // console.log(INCOME_STATEMENT)\r\n    return INCOME_STATEMENT;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n// getIncomeStatementVN('VNM', \"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSIsImtpZCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSJ9\");\r\n\r\nconst getBalanceSheetVN = async (\r\n  symbol,\r\n  key = process.env.REACT_APP_FIREANT_KEY\r\n) => {\r\n  try {\r\n    const res = await fetch(\r\n      `https://restv2.fireant.vn/symbols/${symbol}/full-financial-reports?type=1&year=${year}&quarter=3&limit=6`,\r\n      {\r\n        headers: {\r\n          Authorization:\r\n            \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSIsImtpZCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSJ9.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4iLCJhdWQiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4vcmVzb3VyY2VzIiwiZXhwIjoxOTU4OTA5NzA3LCJuYmYiOjE2NTg5MDk3MDcsImNsaWVudF9pZCI6ImZpcmVhbnQudHJhZGVzdGF0aW9uIiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSIsInJvbGVzIiwiZW1haWwiLCJhY2NvdW50cy1yZWFkIiwiYWNjb3VudHMtd3JpdGUiLCJvcmRlcnMtcmVhZCIsIm9yZGVycy13cml0ZSIsImNvbXBhbmllcy1yZWFkIiwiaW5kaXZpZHVhbHMtcmVhZCIsImZpbmFuY2UtcmVhZCIsInBvc3RzLXdyaXRlIiwicG9zdHMtcmVhZCIsInN5bWJvbHMtcmVhZCIsInVzZXItZGF0YS1yZWFkIiwidXNlci1kYXRhLXdyaXRlIiwidXNlcnMtcmVhZCIsInNlYXJjaCIsImFjYWRlbXktcmVhZCIsImFjYWRlbXktd3JpdGUiLCJibG9nLXJlYWQiLCJpbnZlc3RvcGVkaWEtcmVhZCJdLCJzdWIiOiIyODVjNTdkMS1kMmRmLTRiYTUtOTE4Mi0yOTYyZDk1ZTM2ZDAiLCJhdXRoX3RpbWUiOjE2NTg5MDk3MDUsImlkcCI6Imlkc3J2IiwibmFtZSI6InNvbmJhdGdpb2kyQGdtYWlsLmNvbSIsInNlY3VyaXR5X3N0YW1wIjoiMzA0MjVhOTYtYzQyZS00ZmZjLWI0ZTgtMGU2ZDk4ZGQ0YzY3IiwianRpIjoiYmIxZmE4Njc4MzdiOThiOWNjMGI2NjNhYjhiZmM2MjQiLCJhbXIiOlsicGFzc3dvcmQiXX0.pZEgQ4RH7TOUSWo_eezAFumnxZzVMfzsM_nG1IKeFqs396uAeJuRpAgQl481S-MA-S2nqcq0yoUlUwaq4zBGs7qCFWuWMafuzRbyGt-IKHoY4QplILe1y7nODEgeOQXC8FY-qmtYK_Nbs5oEvYq_K-QUX3dqjlUwi_sPJwa4mPQd9Dow7-3IenniVAuqA9XW1XY2XEp6TkxcmZ-5cbnexTOECiIj_-XdYul0QVOFCZlEt2iEmFbRgdpPGP96e-YbmKgWswoCFXij81nsiHxDmm4Hu_AHi2-ZR9KM4XIe-eeKr2q-pMzkS2Ii9iVcEqHnvSq5eYb46W_qPB4ZmK-3pQ\",\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n    const reports = await res.json();\r\n\r\n    const BALANCE_SHEET = [];\r\n    for (let i = 0; i < reports.length; i++) {\r\n      const report = reports[i];\r\n      const period = [];\r\n      const value = [];\r\n      report.values.forEach((element) => {\r\n        period.push(element.period);\r\n        value.push(element.value / 1000000);\r\n      });\r\n      const returnreport = {\r\n        ...report,\r\n        values: { period, value },\r\n      };\r\n      BALANCE_SHEET.push(returnreport);\r\n    }\r\n    // console.log(BALANCE_SHEET)\r\n    return BALANCE_SHEET;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n\r\n//getBalanceSheet();\r\n\r\nconst getCashFLowVN = async (\r\n  symbol = \"FPT\",\r\n  key = process.env.REACT_APP_FIREANT_KEY\r\n) => {\r\n  try {\r\n    const res = await fetch(\r\n      `https://restv2.fireant.vn/symbols/${symbol}/full-financial-reports?type=4&year=${year}&quarter=0&limit=6`,\r\n      {\r\n        headers: {\r\n          Authorization:\r\n            \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSIsImtpZCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSJ9.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4iLCJhdWQiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4vcmVzb3VyY2VzIiwiZXhwIjoxOTU4OTA5NzA3LCJuYmYiOjE2NTg5MDk3MDcsImNsaWVudF9pZCI6ImZpcmVhbnQudHJhZGVzdGF0aW9uIiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSIsInJvbGVzIiwiZW1haWwiLCJhY2NvdW50cy1yZWFkIiwiYWNjb3VudHMtd3JpdGUiLCJvcmRlcnMtcmVhZCIsIm9yZGVycy13cml0ZSIsImNvbXBhbmllcy1yZWFkIiwiaW5kaXZpZHVhbHMtcmVhZCIsImZpbmFuY2UtcmVhZCIsInBvc3RzLXdyaXRlIiwicG9zdHMtcmVhZCIsInN5bWJvbHMtcmVhZCIsInVzZXItZGF0YS1yZWFkIiwidXNlci1kYXRhLXdyaXRlIiwidXNlcnMtcmVhZCIsInNlYXJjaCIsImFjYWRlbXktcmVhZCIsImFjYWRlbXktd3JpdGUiLCJibG9nLXJlYWQiLCJpbnZlc3RvcGVkaWEtcmVhZCJdLCJzdWIiOiIyODVjNTdkMS1kMmRmLTRiYTUtOTE4Mi0yOTYyZDk1ZTM2ZDAiLCJhdXRoX3RpbWUiOjE2NTg5MDk3MDUsImlkcCI6Imlkc3J2IiwibmFtZSI6InNvbmJhdGdpb2kyQGdtYWlsLmNvbSIsInNlY3VyaXR5X3N0YW1wIjoiMzA0MjVhOTYtYzQyZS00ZmZjLWI0ZTgtMGU2ZDk4ZGQ0YzY3IiwianRpIjoiYmIxZmE4Njc4MzdiOThiOWNjMGI2NjNhYjhiZmM2MjQiLCJhbXIiOlsicGFzc3dvcmQiXX0.pZEgQ4RH7TOUSWo_eezAFumnxZzVMfzsM_nG1IKeFqs396uAeJuRpAgQl481S-MA-S2nqcq0yoUlUwaq4zBGs7qCFWuWMafuzRbyGt-IKHoY4QplILe1y7nODEgeOQXC8FY-qmtYK_Nbs5oEvYq_K-QUX3dqjlUwi_sPJwa4mPQd9Dow7-3IenniVAuqA9XW1XY2XEp6TkxcmZ-5cbnexTOECiIj_-XdYul0QVOFCZlEt2iEmFbRgdpPGP96e-YbmKgWswoCFXij81nsiHxDmm4Hu_AHi2-ZR9KM4XIe-eeKr2q-pMzkS2Ii9iVcEqHnvSq5eYb46W_qPB4ZmK-3pQ\",\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n    const reports = await res.json();\r\n\r\n    const CASH_FLOW = [];\r\n    for (let i = 0; i < reports.length; i++) {\r\n      const report = reports[i];\r\n      const period = [];\r\n      const value = [];\r\n      report.values.forEach((element) => {\r\n        period.push(element.period);\r\n        value.push(element.value / 1000000);\r\n      });\r\n      const returnreport = {\r\n        ...report,\r\n        values: { period, value },\r\n      };\r\n      CASH_FLOW.push(returnreport);\r\n    }\r\n    // console.log(CASH_FLOW)\r\n    return CASH_FLOW;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n\r\n//getCashFLow();\r\n\r\nconst getRatioVN = async (symbol, key) => {\r\n  try {\r\n    const res = await fetch(\r\n      `https://restv2.fireant.vn/symbols/${symbol}/financial-indicators`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${key}`,\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n    const reports = await res.json();\r\n    const RATIO = reports.map((report) => ({\r\n      symbol: report.shortName,\r\n      value: report.value,\r\n      change: report.change,\r\n      industryValue: report.industryValue,\r\n    }));\r\n    // console.log(RATIO)\r\n    return RATIO;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n// getRatioVN(\"FPT\", key);\r\n\r\n//This function is use for get EPS 5Y, 10Y to calculate EPSGrowthRate\r\nconst getRatioCafeF = async (symbol) => {\r\n  try {\r\n    const res = await fetch(`https://e.cafef.vn/fi.ashx?symbol=${symbol}`);\r\n    const reports = await res.json();\r\n    const Symbol = reports[0].Symbol;\r\n    const Year = [],\r\n      EPS = [],\r\n      BV = [],\r\n      PE = [],\r\n      ROA = [],\r\n      ROE = [],\r\n      ROS = [],\r\n      GOS = [],\r\n      DAR = [];\r\n    reports.forEach((report) => {\r\n      Year.push(report.Year);\r\n      EPS.push(report.EPS);\r\n      BV.push(report.BV);\r\n      PE.push(report.PE);\r\n      ROA.push(report.ROA);\r\n      ROE.push(report.ROE);\r\n      ROS.push(report.ROS);\r\n      GOS.push(report.GOS);\r\n      DAR.push(report.DAR);\r\n    });\r\n    const RATIO = {\r\n      Symbol,\r\n      Year,\r\n      EPS,\r\n      BV,\r\n      PE,\r\n      ROA,\r\n      ROE,\r\n      ROS,\r\n      GOS,\r\n      DAR,\r\n    };\r\n    return RATIO;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n// getRatioCafeF(\"BCG\")\r\n\r\nexport {\r\n  getSymbolListVN,\r\n  getCompanyProfileVN,\r\n  getIncomeStatementVN,\r\n  getBalanceSheetVN,\r\n  getCashFLowVN,\r\n  getRatioVN,\r\n  getRatioCafeF,\r\n  getPriceVN\r\n};\r\n","import React, { useState } from \"react\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport { AsyncTypeahead } from \"react-bootstrap-typeahead\";\r\nimport { getSymbolListVN } from \"./utils/api\";\r\n\r\nconst SearchBar = ({ setSymbol }) => {\r\n  const [isLoading] = useState(false);\r\n  const [options, setOptions] = useState([]);\r\n\r\n  const handleSearch = async (searchTerm) => {\r\n    try {\r\n      const options = await getSymbolListVN(\r\n        searchTerm,\r\n        process.env.REACT_APP_FIREANT_KEY\r\n      );\r\n      setOptions(options);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  const handleSelect = (e) => {\r\n    e.length !== 0 && setSymbol(e[0]?.key)\r\n  };\r\n\r\n  // Bypass client-side filtering by returning `true`. Results are already\r\n  // filtered by the search endpoint, so no need to do it again.\r\n  const filterBy = () => true;\r\n\r\n  return (\r\n    <AsyncTypeahead\r\n      delay={500}\r\n      filterBy={filterBy}\r\n      id=\"async-example\"\r\n      isLoading={isLoading}\r\n      onChange={handleSelect}\r\n      labelKey=\"key\"\r\n      minLength={1}\r\n      onSearch={(searchTerm) => handleSearch(searchTerm)}\r\n      options={options}\r\n      placeholder=\"Enter a symbol\"\r\n      renderMenuItemChildren={(option, props) => (\r\n        <ListGroup horizontal={true}>\r\n          <ListGroup.Item>{option.key}</ListGroup.Item>\r\n          <ListGroup.Item>{option.name}</ListGroup.Item>\r\n          <ListGroup.Item className=\"ml-auto\">\r\n            {option.description}\r\n          </ListGroup.Item>\r\n        </ListGroup>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\r\nimport Tooltip from \"react-bootstrap/Tooltip\";\r\nimport vmiContext from \"../../context/vmi-context\";\r\nimport { toRender } from \"../vmiUS/function\";\r\n\r\nconst BasicInfoVN = () => {\r\n  const { dataBasicInfo } = useContext(vmiContext);\r\n  const [validated, setValidated] = useState(false);\r\n  const [basicInfo, setBasicInfo] = useState({});\r\n\r\n  useEffect(() => {\r\n    setBasicInfo(dataBasicInfo)\r\n  },[dataBasicInfo])\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValidated(true);\r\n  };\r\n  return (\r\n    <>\r\n      <Form noValidate validated={validated} onSubmit={handleSubmit}>\r\n        <Row className=\"mb-3\">\r\n          <Col>\r\n            <Form.Group md=\"3\" controlId=\"EPS\">\r\n              <Form.Label>EPS</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"EPS\"\r\n                defaultValue={toRender(basicInfo.epsNormalizedAnnual)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group md=\"3\" controlId=\"epsIndustry\">\r\n              <Form.Label>EPS Industry</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"EPS Industry\"\r\n                defaultValue={toRender(basicInfo.epsIndustry)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <OverlayTrigger\r\n          placement=\"top\"\r\n          delay={{ show: 250, hide: 400 }}\r\n          overlay={\r\n            <Tooltip id=\"button-tooltip-2\">\r\n              For company losing money: less than 0.5; For Banks, REITS: 1-1.2\r\n            </Tooltip>\r\n          }\r\n        >\r\n          <Row>\r\n            <Col>\r\n              <Form.Group md=\"3\" controlId=\"P/B\">\r\n                <Form.Label>P/B</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"P/B\"\r\n                  defaultValue={toRender(basicInfo.pbAnnual)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Group md=\"3\" controlId=\"pbIndustry\">\r\n                <Form.Label>P/B Industry</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"P/B Industry\"\r\n                  defaultValue={toRender(basicInfo.pbIndustry)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n        </OverlayTrigger>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group md=\"3\" controlId=\"pe\">\r\n              <Form.Label>P/E</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"P/E\"\r\n                defaultValue={toRender(basicInfo.peNormalizedAnnual)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group md=\"3\" controlId=\"peIndustry\">\r\n              <Form.Label>P/E Industry</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"P/E Industry\"\r\n                defaultValue={toRender(basicInfo.peIndustry)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group md=\"3\" controlId=\"ps\">\r\n              <Form.Label>P/S</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"P/S\"\r\n                defaultValue={toRender(basicInfo.psAnnual)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group md=\"3\" controlId=\"psIndustry\">\r\n              <Form.Label>P/S Industry</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"P/S Industry\"\r\n                defaultValue={toRender(basicInfo.psIndustry)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group md=\"4\" controlId=\"epsGrowth5Y\">\r\n              <Form.Label>EPS Growth 5Y %</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"EPS Growth5Y\"\r\n                defaultValue={toRender(basicInfo.epsGrowth5Y)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={\r\n                <Tooltip id=\"button-tooltip-2\">Good if less than 1.5</Tooltip>\r\n              }\r\n            >\r\n              <Form.Group md=\"6\" controlId=\"peg\">\r\n                <Form.Label>PEG</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"PEG\"\r\n                  defaultValue={toRender(basicInfo.peg)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={\r\n                <Tooltip id=\"button-tooltip-2\">\r\n                  For new Growth companies with strong revenue growth, 0.2 is\r\n                  Fair value, above is overvalued\r\n                </Tooltip>\r\n              }\r\n            >\r\n              <Form.Group md=\"6\" controlId=\"psg\">\r\n                <Form.Label>PSG</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"PSG\"\r\n                  defaultValue={toRender(basicInfo.psg)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={\r\n                <Tooltip id=\"button-tooltip-2\">At least 12%-15%</Tooltip>\r\n              }\r\n            >\r\n              <Form.Group md=\"4\" controlId=\"roae5Y\">\r\n                <Form.Label>ROE 5Y %</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"ROE 5Y\"\r\n                  defaultValue={toRender(basicInfo.roae5Y)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group md=\"4\" controlId=\"roeIndustry\">\r\n              <Form.Label>ROE Industry %</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"ROE Industry\"\r\n                defaultValue={toRender(basicInfo.roeIndustry)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={<Tooltip id=\"button-tooltip-2\">More than 1</Tooltip>}\r\n            >\r\n              <Form.Group md=\"4\" controlId=\"currentRatioAnnual\">\r\n                <Form.Label>Current Ratio</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Current Ratio\"\r\n                  defaultValue={toRender(basicInfo.currentRatioAnnual)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group md=\"4\" controlId=\"currentRatioIndustry\">\r\n              <Form.Label>Current Ratio Industry</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Current Ratio Industry\"\r\n                defaultValue={toRender(basicInfo.currentRatioAnnualIndustry)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group md=\"6\" controlId=\"totalDebt\">\r\n              <Form.Label>Total Debt</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Total Debt\"\r\n                defaultValue={toRender(basicInfo.totalDebt)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group md=\"6\" controlId=\"ebitda\">\r\n              <Form.Label>EBITDA</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"EBITDA\"\r\n                defaultValue={toRender(basicInfo.ebitda)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={<Tooltip id=\"button-tooltip-2\">Less than 3</Tooltip>}\r\n            >\r\n              <Form.Group md=\"6\" controlId=\"Debt/EBITDA \">\r\n                <Form.Label>Debt/EBITDA</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Debt/EBITDA\"\r\n                  defaultValue={toRender(basicInfo.debtEbitda)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group md=\"6\" controlId=\"interestExpense\">\r\n              <Form.Label>Net Interest Income</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Net Interest Income\"\r\n                defaultValue={toRender(basicInfo.netInterestIncome)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group md=\"6\" controlId=\"CashFlowOperation\">\r\n              <Form.Label>Operating Cashflow</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Operating Cashflow\"\r\n                defaultValue={toRender(basicInfo.operatingCashflow)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={<Tooltip id=\"button-tooltip-2\">Less than 30%</Tooltip>}\r\n            >\r\n              <Form.Group md=\"6\" controlId=\"netInterestCFO\">\r\n                <Form.Label>Debt Servicing Ratio %</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Interest expense/CFO\"\r\n                  defaultValue={toRender(basicInfo.debtServicingRatio)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={<Tooltip id=\"button-tooltip-2\">More than 1</Tooltip>}\r\n            >\r\n              <Form.Group md=\"4\" controlId=\"currentRatioAnnual\">\r\n                <Form.Label>Dividend</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  defaultValue={toRender(basicInfo.dividend)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group md=\"4\" controlId=\"currentRatioIndustry\">\r\n              <Form.Label>Dividend Yield %</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                defaultValue={toRender(basicInfo.dividendYield)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BasicInfoVN;\r\n","/* eslint-disable */\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\n//dont delete import chart\r\nimport { Chart as ChartJS } from \"chart.js/auto\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport vmiContext from \"../../context/vmi-context\";\r\n\r\nconst TrendChart = () => {\r\n  const { dataTrendChart } = useContext(vmiContext);\r\n  const [trendChart, setTrendChart] = useState({});\r\n\r\n  const [index, setIndex] = useState(1);\r\n  const [X, setX] = useState([]);\r\n  const [Y, setY] = useState([]);\r\n  const [label, setLabel] = useState(\"\");\r\n\r\n  const chartData = {\r\n    labels: X,\r\n    datasets: [\r\n      {\r\n        label: label,\r\n        backgroundColor: \"#0dcaf0\",\r\n        borderColor: \"#0dcaf0\",\r\n        borderWidth: 2,\r\n        data: Y,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setIndex(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTrendChart(dataTrendChart);\r\n  }, [dataTrendChart]);\r\n\r\n  useEffect(() => {\r\n    let value = {};\r\n    switch (index) {\r\n      case \"totalRevenue\":\r\n        setLabel(\"Revenue\");\r\n        value = trendChart.revenue;\r\n        break;\r\n      case \"netIncome\":\r\n        setLabel(\"Net Income\");\r\n        value = trendChart.netIncome;\r\n        break;\r\n      case \"operatingCashflow\":\r\n        setLabel(\"Cash flow from operation\");\r\n        value = trendChart.operatingCashflow;\r\n        break;\r\n\r\n      case \"freeCashflow\":\r\n        setLabel(\"Free CashFlow\");\r\n        value = trendChart.freeCashFlow;\r\n        break;\r\n      default:\r\n        setLabel(\"Revenue\");\r\n        value = trendChart.revenue;\r\n        break;\r\n    }\r\n    setX(trendChart.period);\r\n    setY(value);\r\n  }, [index, trendChart]);\r\n\r\n  return (\r\n    <div>\r\n      <ButtonGroup value={index} onClick={handleChange}>\r\n        <Button variant=\"secondary\" value=\"totalRevenue\">\r\n          Total Revenue\r\n        </Button>\r\n        <Button variant=\"secondary\" value=\"netIncome\">\r\n          Net Income\r\n        </Button>\r\n        <Button variant=\"secondary\" value=\"operatingCashflow\">\r\n          OperatingCashFlow\r\n        </Button>\r\n        <Button variant=\"secondary\" value=\"freeCashflow\">\r\n          FreeCashFlow\r\n        </Button>\r\n      </ButtonGroup>\r\n\r\n      <Bar\r\n        data={chartData}\r\n        options={{\r\n          title: {\r\n            display: true,\r\n            text: \"Chart for VMI\",\r\n            fontSize: 20,\r\n          },\r\n          legend: {\r\n            display: true,\r\n            position: \"right\",\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrendChart;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport vmiContext from \"../../context/vmi-context\";\r\nimport {\r\n  calculateInitialIV,\r\n  toRender,\r\n} from \"../vmiUS/function\";\r\n\r\nconst StockValuationVN = () => {\r\n  const {\r\n    dataStockV\r\n  } = useContext(vmiContext);\r\n  // const [validated, setValidated] = useState(false);\r\n  const [initialState, setInitialState] = useState({});\r\n  const [stockV, setStockV] = useState({});\r\n  const [stockVCalculate, setStockVCalculate] = useState({});\r\n  const [index, setIndex] = useState(\"netIncome\");\r\n  const [indexData, setIndexData] = useState(\"\");\r\n  const formRef = React.useRef(initialState);\r\n\r\n  const handleChange = (event) => {\r\n    setIndex(event.target.value);\r\n  };\r\n\r\n  const handleReset = (e) => {\r\n    e.preventDefault();\r\n    setStockV(initialState);\r\n    formRef.current.reset();\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const formObj = {\r\n      ...stockV,\r\n      totalDebt: parseFloat(event.target.totalDebt.value),\r\n      cashAndShortTermInvestments: parseFloat(\r\n        event.target.cashAndShortTermInvestments.value\r\n      ),\r\n      epsGrowth5Y: parseFloat(event.target.epsGrowth5Y.value),\r\n      epsGrowth10Y: parseFloat(event.target.epsGrowth10Y.value),\r\n      gdpGrowthRate: parseFloat(event.target.gdpGrowthRate.value),\r\n      discountRate: parseFloat(event.target.discountRate.value),\r\n      sharesOutstanding: parseFloat(event.target.sharesOutstanding.value),\r\n      price: parseFloat(event.target.price.value),\r\n    };\r\n    setStockV(formObj);\r\n  };\r\n\r\n  //   useEffect(() => {\r\n  //     if (\r\n  //       Object.keys(incomeStatement).length !== 0 &&\r\n  //       Object.keys(balanceSheet).length !== 0 &&\r\n  //       Object.keys(cashFlow).length !== 0 &&\r\n  //       Object.keys(profile).length !== 0 &&\r\n  //       Object.keys(ratio).length !== 0 &&\r\n  //       Object.keys(ratioCafeF).length !== 0\r\n  //     ) {\r\n  //       const netIncome = cashFlow.find((element) => {\r\n  //         return element.id === 101 ? element.values.value.slice(-1)[0] : null;\r\n  //       });\r\n  //       const operatingCashflow = cashFlow.find((element) => {\r\n  //         return element.id === 104 ? element.values.value.slice(-1)[0] : null;\r\n  //       });\r\n  //       const capitalExpenditure = cashFlow.find((element) => {\r\n  //         return element.id === 201 ? element.values.value.slice(-1)[0] : null;\r\n  //       });\r\n  //       const freeCashflow = operatingCashflow + capitalExpenditure;\r\n  //       const cashAndShortTermInvestments =\r\n  // \t  balanceSheet.find((element) => {\r\n  //         return element.id === 1010102\r\n  //           ? element.values.value.slice(-1)[0]\r\n  //           : null;\r\n  //       })\r\n  //       +\r\n  // \t  balanceSheet.find((element) => {\r\n  //         return element.id === 10102 ? element.values.value.slice(-1)[0] : null;\r\n  //       });\r\n\r\n  //       const epsGrowth5Y = growthRate5Y(ratioCafeF.EPS);\r\n  //       const epsGrowth10Y = growthRate10Y(ratioCafeF.EPS);\r\n  //       const shortTermDebt = balanceSheet.find((element) => {\r\n  //         return element.id === 3010101 ? element.values.value.slice(-1)[0] : null;\r\n  //       });\r\n  //       const longTermDebt = balanceSheet.find((element) => {\r\n  //         return element.id === 3010206 ? element.values.value.slice(-1)[0] : null;\r\n  //       });\r\n\r\n  //       const discountRate = calculateDiscountRate(profile.beta);\r\n  //       const sharesOutstanding = profile.sharesOutstanding;\r\n  //       const totalDebt = shortTermDebt + longTermDebt;\r\n\r\n  //       let stockV = {\r\n  //         netIncome,\r\n  //         operatingCashflow,\r\n  //         freeCashflow,\r\n  //         totalDebt,\r\n  //         cashAndShortTermInvestments,\r\n  //         epsGrowth5Y,\r\n  //         epsGrowth10Y,\r\n  //         gdpGrowthRate: 4.18,\r\n  //         discountRate,\r\n  //         sharesOutstanding,\r\n  //       };\r\n  //       setStockV(stockV);\r\n  //       setInitialState(stockV);\r\n  //     }\r\n  //   }, [ratio, ratioCafeF, cashFlow, balanceSheet, incomeStatement, profile]);\r\n\r\n  useEffect(() => {\r\n    setStockV(dataStockV);\r\n    setInitialState(dataStockV);\r\n  }, [dataStockV]);\r\n  useEffect(() => {\r\n    try {\r\n      let value = 0;\r\n      switch (index) {\r\n        case \"netIncome\":\r\n          value = stockV.netIncome;\r\n          setIndexData(stockV.netIncome);\r\n          break;\r\n        case \"operatingCashflow\":\r\n          value = stockV.operatingCashflow;\r\n          setIndexData(stockV.operatingCashflow);\r\n          break;\r\n        case \"freeCashflow\":\r\n          value = stockV.freeCashflow;\r\n          setIndexData(stockV.freeCashflow);\r\n          break;\r\n        default:\r\n          value = stockV.netIncome;\r\n          setIndexData(stockV.netIncome);\r\n          break;\r\n      }\r\n\r\n      const pv20Y = calculateInitialIV(\r\n        value,\r\n        stockV.epsGrowth5Y / 100,\r\n        stockV.discountRate / 100,\r\n        stockV.gdpGrowthRate / 100\r\n      );\r\n      const initialIV = (pv20Y * 1000000) / stockV.sharesOutstanding;\r\n      const debtPerShare =\r\n        (stockV.totalDebt * 1000000) / stockV.sharesOutstanding;\r\n      const cashPerShare =\r\n        (stockV.cashAndShortTermInvestments * 1000000) /\r\n        stockV.sharesOutstanding;\r\n      const finalIV = initialIV - debtPerShare + cashPerShare;\r\n\r\n      let calculatedData = {\r\n        pv20Y,\r\n        initialIV,\r\n        debtPerShare,\r\n        cashPerShare,\r\n        finalIV,\r\n        premium: (stockV.price / finalIV - 1) * 100,\r\n      };\r\n      setStockVCalculate(calculatedData);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [index, stockV]);\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"border-top mt-2\">Stock Valuation</h1>\r\n      <Container>\r\n        <Row xs=\"1\" md=\"2\">\r\n          <Col>\r\n            <ButtonGroup className=\"w-25\" value={index} onClick={handleChange}>\r\n              <Button variant=\"secondary\" value=\"netIncome\">\r\n                Net Income\r\n              </Button>\r\n              <Button variant=\"secondary\" value=\"operatingCashflow\">\r\n                Operating Cash Flow\r\n              </Button>\r\n              <Button variant=\"secondary\" value=\"freeCashflow\">\r\n                FreeCashFlow\r\n              </Button>\r\n            </ButtonGroup>\r\n          </Col>\r\n          <Col>\r\n            <Button variant=\"secondary\" onClick={handleReset}>\r\n              Reset\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form onSubmit={handleSubmit} ref={formRef} className=\"mb-3\">\r\n              <Row>\r\n                <Form.Group md=\"3\" controlId=\"indexData\">\r\n                  <Form.Label>Value</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Number\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(indexData)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"6\" controlId=\"totalDebt\">\r\n                  <Form.Label>Total Debt</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Total Debt\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.totalDebt)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"6\" controlId=\"cashAndShortTermInvestments\">\r\n                  <Form.Label>Cash and ShortTerm-Investments</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Cash And ShortTerm Investments\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.cashAndShortTermInvestments)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"epsGrowth5Y\">\r\n                  <Form.Label>EPS Growth5Y %</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"EPS Growth5Y\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.epsGrowth5Y)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"epsGrowth10Y\">\r\n                  <Form.Label>EPS Growth10Y %</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"EPS Growth10Y\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.epsGrowth10Y)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"gdpGrowthRate\">\r\n                  <Form.Label>GDP GrowthRate %</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"GDP Growth Rate\"\r\n                    defaultValue={toRender(stockV.gdpGrowthRate)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <br />\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"discountRate\">\r\n                  <Form.Label>Discount Rate %</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Discount Rate\"\r\n                    defaultValue={toRender(stockV.discountRate)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"sharesOutstanding\">\r\n                  <Form.Label>SharesOutstanding</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"SharesOutstanding\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.sharesOutstanding)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"price\">\r\n                  <Form.Label>Last Close</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Price\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.price)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <br />\r\n              <Button variant=\"secondary\" type=\"submit\">\r\n                Calculate Insintric Value\r\n              </Button>\r\n            </Form>\r\n          </Col>\r\n          <Col>\r\n            <Form>\r\n              <Form.Group md=\"3\" controlId=\"pv20Y\">\r\n                <Form.Label>PV of 20 yr</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"PV20Y\"\r\n                  defaultValue={toRender(stockVCalculate.pv20Y)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"6\" controlId=\"initialIV\" readOnly>\r\n                <Form.Label>Intrinsic Value before cash/debt</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Initial IV\"\r\n                  defaultValue={toRender(stockVCalculate.initialIV)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"6\" controlId=\"debtPerShare\" readOnly>\r\n                <Form.Label>Less (-) Debt Per Share</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Debt Per Share\"\r\n                  defaultValue={toRender(stockVCalculate.debtPerShare)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"4\" controlId=\"cashPerShare\" readOnly>\r\n                <Form.Label>Plus (+) Cash Per Share</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"EPS Growth 5Y\"\r\n                  defaultValue={toRender(stockVCalculate.cashPerShare)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"4\" controlId=\"finalIV\" readOnly>\r\n                <Form.Label>Final Intrinsic Value Per Share</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Final IV\"\r\n                  defaultValue={toRender(stockVCalculate.finalIV)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"4\" controlId=\"premium\" readOnly>\r\n                <Form.Label>(Discount)/Premium %</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Premium\"\r\n                  defaultValue={toRender(stockVCalculate.premium)}\r\n                />\r\n              </Form.Group>\r\n              <br />\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StockValuationVN;\r\n","const growthRate5Y = (array) => {\r\n    if (array.length < 5) {\r\n        return (Math.pow((array[0] / array[array.length - 1]), 1 / (array.length - 1)) - 1) * 100\r\n    } else {\r\n        return (Math.pow((array[0] / array[4]), 1 / 5) - 1) * 100\r\n    }\r\n\r\n}\r\n\r\nconst growthRate10Y = (array) => {\r\n    if (array.length < 10) {\r\n        return (Math.pow((array[0] / array[array.length - 1]), 1 / (array.length - 1)) - 1) * 100\r\n    } else {\r\n        return (Math.pow((array[0] / array[9]), 1 / 10) - 1) * 100\r\n    }\r\n}\r\n\r\nconst average5Y = (array) => {\r\n    let sum = 0\r\n    for (let i = 0; i < 5; i++) {\r\n        sum += array[i]\r\n    }\r\n    return sum / 5;\r\n}\r\n// getEpsGrowth5Y();\r\nexport {\r\n    growthRate5Y,\r\n    growthRate10Y,\r\n    average5Y\r\n}","import React, { useEffect, useState, Suspense } from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport vmiContext from \"../../context/vmi-context\";\r\nimport Error from \"../vmiUS/error\";\r\nimport SearchBar from \"./searchBarVN\";\r\nimport BasicInfoVN from \"./basicInfoVN\";\r\nimport TrendChartVN from \"./trendChartVN\";\r\nimport StockValuationVN from \"./stockValuationVN\";\r\nimport {\r\n  getIncomeStatementVN,\r\n  getRatioVN,\r\n  getRatioCafeF,\r\n  getBalanceSheetVN,\r\n  getCashFLowVN,\r\n  getCompanyProfileVN,\r\n  getPriceVN,\r\n} from \"./utils/api\";\r\nimport { calculateDiscountRate } from \"../vmiUS/function\";\r\nimport { growthRate5Y, growthRate10Y, average5Y } from \"./utils/functionVN\";\r\n\r\nrequire(\"dotenv\").config();\r\n\r\nconst VmiVN = () => {\r\n  const [symbol, setSymbol] = useState([]);\r\n  const [incomeStatement, setIncomeStatement] = useState({});\r\n  const [balanceSheet, setBalanceSheet] = useState({});\r\n  const [cashFlow, setCashFlow] = useState({});\r\n  const [ratio, setRatio] = useState([]);\r\n  const [ratioCafeF, setRatioCafeF] = useState([]);\r\n  const [profile, setProfile] = useState({});\r\n  const [priceVN, setPriceVN] = useState({});\r\n  const [error, setError] = useState(false);\r\n  const [dataBasicInfo, setDataBasicInfo] = useState({});\r\n  const [dataStockV, setDataStockV] = useState({});\r\n  const [dataTrendChart, setDataTrendChart] = useState({});\r\n\r\n  useEffect(() => {\r\n    try {\r\n      if (symbol.length !== 0) {\r\n        getCompanyProfileVN(symbol, process.env.REACT_APP_FIREANT_KEY).then(\r\n          (data) => setProfile(data)\r\n        );\r\n        getIncomeStatementVN(symbol, process.env.REACT_APP_FIREANT_KEY).then(\r\n          (data) => setIncomeStatement(data)\r\n        );\r\n        getBalanceSheetVN(symbol, process.env.REACT_APP_FIREANT_KEY).then(\r\n          (data) => setBalanceSheet(data)\r\n        );\r\n        getCashFLowVN(symbol, process.env.REACT_APP_FIREANT_KEY).then((data) =>\r\n          setCashFlow(data)\r\n        );\r\n        getRatioVN(symbol, process.env.REACT_APP_FIREANT_KEY).then((data) =>\r\n          setRatio(data)\r\n        );\r\n        getPriceVN(symbol, process.env.REACT_APP_FIREANT_KEY).then((data) =>\r\n          setPriceVN(data)\r\n        );\r\n        getRatioCafeF(symbol).then((data) => setRatioCafeF(data));\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [symbol]);\r\n  useEffect(() => {\r\n    try {\r\n      if (\r\n        Object.keys(incomeStatement).length !== 0 &&\r\n        Object.keys(balanceSheet).length !== 0 &&\r\n        Object.keys(cashFlow).length !== 0 &&\r\n        Object.keys(ratio).length !== 0 &&\r\n        Object.keys(ratioCafeF).length !== 0\r\n      ) {\r\n        // console.log(incomeStatement);\r\n        const epsGrowth5Y = growthRate5Y(ratioCafeF.EPS);\r\n        const epsGrowth10Y = growthRate10Y(ratioCafeF.EPS);\r\n        const roae5Y = average5Y(ratioCafeF.ROE); //This is ROE\r\n\r\n        //id phia truoc cho cac aco phieu chung khoan va ngan hang, ex VND, VDS, TPB, MBB\r\n        const revenue = incomeStatement.find((element) => element.id === 1)\r\n          ?.values.value;\r\n        const revenueGrowth5Y = growthRate5Y(revenue.slice().reverse());\r\n        const netIncome = incomeStatement.find((element) => element.id === 11)\r\n          ?.values.value;\r\n        const shortTermDebt = balanceSheet\r\n          .find((element) => element.id === 30101 || element.id === 3010101)\r\n          ?.values.value.slice(-1)[0]; //Vay và nợ thuê tài sản tài chính ngắn hạn\r\n        const longTermDebt = balanceSheet\r\n          .find((element) => element.id === 30201 || element.id === 3010206)\r\n          ?.values.value.slice(-1)[0]; // Vay và nợ thuê tài sản tài chính dài hạn\r\n        const operatingCashflow = cashFlow.find(\r\n          (element) => element.id === 107 || element.id === 104\r\n        )?.values.value; // id 107 for VND, VDS,... Lưu chuyển tiền thuần từ hoạt động kinh doanh\r\n        const capitalExpenditure = cashFlow.find(\r\n          (element) => element.id === 201\r\n        )?.values.value;\r\n        const cashAndShortTermInvestments =\r\n          balanceSheet\r\n            .find(\r\n              (element) =>\r\n                element.id === 1010101 ||\r\n                element.id === 10101 ||\r\n                element.id === 101\r\n            )\r\n            ?.values.value.slice(-1)[0] +\r\n          balanceSheet\r\n            .find((element) => element.id === 1010103 || element.id === 10102)\r\n            ?.values.value.slice(-1)[0]; //vnd: Các  khoản đầu tư  giữ đến ngày đáo hạn (HTM)\r\n\r\n        const peg =\r\n          ratio.find((element) => element.symbol === \"P/E\")?.value /\r\n          epsGrowth5Y;\r\n        const psg =\r\n          ratio.find((element) => element.symbol === \"P/S\")?.value /\r\n          revenueGrowth5Y;\r\n        const epsNormalizedAnnual = ratio.find(\r\n          (element) => element.symbol === \"EPS\"\r\n        )?.value;\r\n        const epsIndustry = ratio.find(\r\n          (element) => element.symbol === \"EPS\"\r\n        )?.industryValue;\r\n        const pbAnnual = ratio.find(\r\n          (element) => element.symbol === \"P/B\"\r\n        )?.value;\r\n        const pbIndustry = ratio.find(\r\n          (element) => element.symbol === \"P/B\"\r\n        )?.industryValue;\r\n        const peNormalizedAnnual = ratio.find(\r\n          (element) => element.symbol === \"P/E\"\r\n        )?.value;\r\n        const peIndustry = ratio.find(\r\n          (element) => element.symbol === \"P/E\"\r\n        )?.industryValue;\r\n        const psAnnual = ratio.find(\r\n          (element) => element.symbol === \"P/S\"\r\n        )?.value;\r\n        const psIndustry = ratio.find(\r\n          (element) => element.symbol === \"P/S\"\r\n        )?.industryValue;\r\n        const roeIndustry = ratio.find(\r\n          (element) => element.symbol === \"ROE\"\r\n        )?.industryValue;\r\n        const currentRatioAnnual = ratio.find(\r\n          (element) => element.symbol === \"TT Hiện hành\"\r\n        )?.value;\r\n        const currentRatioAnnualIndustry = ratio.find(\r\n          (element) => element.symbol === \"TT Hiện hành\"\r\n        )?.industryValue;\r\n        const netIncome_TTM = profile?.netProfit_TTM;\r\n\r\n        const amortization = cashFlow\r\n          .find((element) => element.id === 10201)\r\n          ?.values.value.slice(-1)[0]; // Khấu hao TSCĐ\r\n        const interestOnDeposits = cashFlow\r\n          .find((element) => element.if === 302 || element.id === 10208)\r\n          ?.values.value.slice(-1)[0];\r\n        const interestIncome = cashFlow\r\n          .find((element) => element.id === 205 || element.id === 10209)\r\n          ?.values.value.slice(-1)[0]; //VND: Tiền thu về cổ tức và lợi nhuận được chia\r\n        const interestExpense = cashFlow\r\n          .find((element) => element.id === 10210)\r\n          ?.values.value.slice(-1)[0]; //VnD: ko co\r\n        const sharesOutstanding = profile?.sharesOutstanding;\r\n        const price = priceVN?.priceClose;\r\n        const dividend = profile?.dividend;\r\n        const dividendYield = profile?.dividendYield * 100;\r\n\r\n        const totalDebt = shortTermDebt + longTermDebt;\r\n        const ebitda = netIncome.slice(-1)[0] + amortization + interestExpense;\r\n        const netInterestIncome =\r\n          interestOnDeposits + interestIncome - interestExpense;\r\n        const debtEbitda = totalDebt / ebitda;\r\n        const debtServicingRatio =\r\n          netInterestIncome > 0\r\n            ? 0\r\n            : Math.abs(\r\n                (netInterestIncome / operatingCashflow.slice(-1)[0]) * 100\r\n              );\r\n        const freeCashflow_TTM =\r\n          operatingCashflow.slice(-1)[0] + capitalExpenditure.slice(-1)[0];\r\n        const discountRate = calculateDiscountRate(profile.beta);\r\n\r\n        let freeCashFlow = [];\r\n        for (let i = 0; i < 6; i++) {\r\n          freeCashFlow.push(operatingCashflow[i] + capitalExpenditure[i]);\r\n        }\r\n        //get Years of Data [2020, 2021, 2022,...]\r\n        const period = incomeStatement.find((element) => element.id === 1)\r\n          ?.values.period;\r\n\r\n        setDataBasicInfo({\r\n          epsNormalizedAnnual,\r\n          epsIndustry,\r\n          pbAnnual,\r\n          pbIndustry,\r\n          peNormalizedAnnual,\r\n          peIndustry,\r\n          psAnnual,\r\n          psIndustry,\r\n          epsGrowth5Y,\r\n          peg,\r\n          psg,\r\n          epsGrowth10Y,\r\n          roae5Y,\r\n          roeIndustry,\r\n          currentRatioAnnual,\r\n          currentRatioAnnualIndustry,\r\n          totalDebt,\r\n          ebitda,\r\n          debtEbitda,\r\n          netInterestIncome,\r\n          operatingCashflow: operatingCashflow.slice(-1)[0],\r\n          debtServicingRatio,\r\n          netIncome,\r\n          dividend,\r\n          dividendYield,\r\n        });\r\n        setDataStockV({\r\n          netIncome: netIncome_TTM / 1000000,\r\n          operatingCashflow,\r\n          freeCashflow: freeCashflow_TTM,\r\n          totalDebt,\r\n          cashAndShortTermInvestments,\r\n          epsGrowth5Y,\r\n          epsGrowth10Y,\r\n          gdpGrowthRate: 4.18,\r\n          discountRate,\r\n          sharesOutstanding,\r\n          price,\r\n        });\r\n        setDataTrendChart({\r\n          revenue,\r\n          netIncome,\r\n          operatingCashflow,\r\n          freeCashFlow,\r\n          period,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [incomeStatement, balanceSheet, cashFlow, ratio, ratioCafeF, priceVN, profile]);\r\n  //   console.log(incomeStatement);\r\n  //   console.log(balanceSheet);\r\n  //   console.log(cashFlow);\r\n  //   console.log(ratio);\r\n  //   console.log(profile);\r\n\r\n  return (\r\n    <>\r\n      <Suspense fallback={<h1>Still Loading…</h1>}>\r\n        <vmiContext.Provider\r\n          value={{\r\n            profile,\r\n            incomeStatement,\r\n            balanceSheet,\r\n            cashFlow,\r\n            ratio,\r\n            ratioCafeF,\r\n            dataBasicInfo,\r\n            dataStockV,\r\n            dataTrendChart,\r\n          }}\r\n        >\r\n          <Error error={error} setError={setError} />\r\n          <Container fluid className=\"mt-3\">\r\n            <Row>\r\n              <Col\r\n                xs={1}\r\n                className=\"d-flex align-items-center justify-content-center\"\r\n              >\r\n                <div>Symbol</div>\r\n              </Col>\r\n              <Col xs={2} md={4}>\r\n                <SearchBar setSymbol={setSymbol} />\r\n              </Col>\r\n              <div className=\"text-muted\">All number is in millions</div>\r\n            </Row>\r\n            <Row>\r\n              <Col xs lg=\"5\">\r\n                <h1 className=\"border-top mt-2\">Basic Info</h1>\r\n                <BasicInfoVN />\r\n              </Col>\r\n              <Col>\r\n                <TrendChartVN />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs>\r\n                <StockValuationVN />\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </vmiContext.Provider>\r\n      </Suspense>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VmiVN;\r\n","import React from \"react\";\r\nimport { Switch, Route, Link } from \"react-router-dom\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport NavItem from \"react-bootstrap/NavItem\";\r\n// import Schwab from './components/schwab/schwab'\r\n// import Idragon from './components/idragon/idragon'\r\nimport VmiUS from \"./components/vmiUS/vmiUS\";\r\nimport VmiVN from \"./components/vmiVN/vmiVN\";\r\n\r\n//import for bootstrap working in dev_env but when deploy to heroku maybe fail\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <Navbar expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n        <Container>\r\n          <Navbar.Brand href=\"/vmiUS\">\r\n            <Nav.Link as={Link} to=\"/vmiUS\">\r\n              idrsch-Vmi\r\n            </Nav.Link>\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav>\r\n              <NavItem href=\"/vmiUS\">\r\n                <Nav.Link as={Link} to=\"/vmiUS\">\r\n                  VmiUS\r\n                </Nav.Link>\r\n              </NavItem>\r\n            </Nav>\r\n            <Nav>\r\n              <NavItem href=\"/vmiVN\">\r\n                <Nav.Link as={Link} to=\"/vmiVN\">\r\n                  VmiVN\r\n                </Nav.Link>\r\n              </NavItem>\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n      <Switch>\r\n\t  <Route path=\"/apps/stockApp\">\r\n          <VmiUS />\r\n        </Route>\r\n        <Route path=\"/vmiUS\">\r\n          <VmiUS />\r\n        </Route>\r\n        <Route path=\"/vmiVN\">\r\n          <VmiVN />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <VmiUS />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename=\"/apps/stockApp\">\r\n      {/* <HashRouter basename=\"/\" hashType=\"noslash\"> */}\r\n        <App />\r\n      {/* </HashRouter> */}\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}