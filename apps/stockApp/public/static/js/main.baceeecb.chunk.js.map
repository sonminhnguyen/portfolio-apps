{"version":3,"sources":["context/vmi-context.js","components/vmiUS/dataUS.js","components/vmiUS/searchBarUS.js","components/vmiUS/trendChartUS.js","components/Error.js","components/vmiUS/function.js","components/vmiUS/basicInfoUS.js","components/vmiUS/stockValuationUS.js","components/vmiUS/vmiUS.js","components/vmiVN/utils/api.js","components/vmiVN/searchBarVN.js","components/vmiVN/basicInfoVN.js","components/vmiVN/trendChartVN.js","components/vmiVN/stockValuationVN.js","components/vmiVN/utils/functionVN.js","components/vmiVN/vmiVN.js","App.js","reportWebVitals.js","index.js"],"names":["vmiContext","createContext","fetch","require","config","SearchBar","_ref","setSymbol","setShowError","setMessageError","useContext","isLoading","setIsLoading","useState","quotes","setQuotes","handleSearch","async","res","concat","symbol","json","map","report","name","shortname","exchangeShortName","exchDisp","error","console","log","Error","getSymbolList","searchTerm","toUpperCase","then","data","catch","_jsx","_Fragment","children","AsyncTypeahead","delay","id","labelKey","minLength","onSearch","onChange","e","_e$","length","options","placeholder","renderMenuItemChildren","option","props","_jsxs","ListGroup","horizontal","Item","className","TrendChart","incomeStatement","cashFlow","label","setLabel","index","setIndex","X","setX","Y","setY","chartData","labels","datasets","backgroundColor","borderColor","borderWidth","useEffect","renderData","Object","keys","period","values","operatingCashflow","capitalExpenditures","i","push","ButtonGroup","value","onClick","target","Button","variant","Bar","title","display","text","fontSize","legend","position","messageError","showError","style","top","right","zIndex","float","Toast","onClose","show","autohide","Header","alt","Body","calculateDiscountRate","beta","discountRate","calculateInitialIV","netIncome","eps5Y","gdpGrowthRate","initialIV","calculateDataIV","insintricValue","netIncome1","discountFactor1","discountValue1","discountFactor","discountValue","Array","forEach","toRender","num","undefined","toFixed","BasicInfo","ratio","validated","setValidated","basicInfo","setBasicInfo","_ratio$quotes$epsTrai","_ratio$quotes","_ratio$quotes$priceTo","_ratio$quotes2","_ratio$quotes$trailin","_ratio$quotes3","_ratio$finnhub$metric","_ratio$finnhub","_ratio$finnhub$metric2","_ratio$defaultKeyStat","_ratio$defaultKeyStat2","_ratio$quotes4","_ratio$finnhub2","_ratio$finnhub2$metri","_ratio$financialData$","_ratio$financialData","_ratio$financialData$2","_ratio$financialData2","_ref2","_ratio$financialData3","_ref3","_ratio$financialData4","_ref4","_ratio$financialData5","_ratio$financialData6","_incomeStatement$inte","_cashFlow$totalCashFr","_Math$abs","EPS","epsTrailingTwelveMonths","PB","priceToBook","PE","trailingPE","epsGrowth5Y","finnhub","metric","PEG","defaultKeyStatistics","pegRatio","PSG","revenueGrowth5Y","ROE5Y","financialData","returnOnEquity","currentRatio","totalDebt","ebitda","debtEbitda","netInterestIncome","interestExpense","totalCashFromOperatingActivities","netInterestCFO","Math","abs","Form","noValidate","onSubmit","event","preventDefault","Row","Group","md","controlId","Label","Control","type","defaultValue","OverlayTrigger","placement","hide","overlay","Tooltip","Col","StockValuation","balanceSheet","initialState","setInitialState","stockV","setStockV","stockVCalculate","setStockVCalculate","indexData","setIndexData","formRef","React","useRef","_cashFlow$netIncome$","_cashFlow$capitalExpe","_calculateDiscountRat","freeCashflow","cashAndShortTermInvestments","cash","shortTermInvestments","epsGrowth10Y","sharesOutstanding","price","currentPrice","pv20Y","debtPerShare","cashPerShare","finalIV","calculatedData","premium","Container","xs","current","reset","stopPropagation","formObj","parseFloat","ref","autoComplete","readOnly","VmiUS","setIncomeStatement","setBalanceSheet","setCashFlow","setRatio","getIncomeStatement","getBalanceSheet","getCashFlow","key","getRatio","process","Suspense","fallback","Provider","fluid","date","Date","yesterday","now","toISOString","today","year","getFullYear","setOptions","headers","Authorization","Host","getSymbolListVN","filterBy","description","BasicInfoVN","dataBasicInfo","epsNormalizedAnnual","epsIndustry","pbAnnual","pbIndustry","peNormalizedAnnual","peIndustry","psAnnual","psIndustry","peg","psg","roae5Y","roeIndustry","currentRatioAnnual","currentRatioAnnualIndustry","debtServicingRatio","dividend","dividendYield","dataTrendChart","trendChart","setTrendChart","revenue","freeCashFlow","StockValuationVN","dataStockV","growthRate5Y","array","pow","VmiVN","ratioCafeF","setRatioCafeF","profile","setProfile","priceVN","setPriceVN","setDataBasicInfo","setDataStockV","setDataTrendChart","getCompanyProfileVN","reports","INCOME_STATEMENT","element","returnreport","getIncomeStatementVN","BALANCE_SHEET","getBalanceSheetVN","arguments","CASH_FLOW","getCashFLowVN","shortName","change","industryValue","getRatioVN","getPriceVN","Symbol","Year","BV","ROA","ROE","ROS","GOS","DAR","getRatioCafeF","_incomeStatement$find","_incomeStatement$find2","_balanceSheet$find$va","_balanceSheet$find","_balanceSheet$find2","_balanceSheet$find$va2","_balanceSheet$find3","_balanceSheet$find4","_cashFlow$find$values","_cashFlow$find","_cashFlow$find2","_cashFlow$find3","_balanceSheet$find$va3","_balanceSheet$find5","_balanceSheet$find6","_balanceSheet$find7","_balanceSheet$find$va4","_balanceSheet$find8","_balanceSheet$find9","_ratio$find","_ratio$find2","_ratio$find3","_ratio$find4","_ratio$find5","_ratio$find6","_ratio$find7","_ratio$find8","_ratio$find9","_ratio$find10","_ratio$find11","_ratio$find12","_ratio$find13","_cashFlow$find4","_cashFlow$find$values2","_cashFlow$find5","_cashFlow$find6","_cashFlow$find$values3","_cashFlow$find7","_cashFlow$find8","_cashFlow$find9","_incomeStatement$find3","sum","average5Y","find","slice","reverse","shortTermDebt","longTermDebt","capitalExpenditure","netIncome_TTM","netProfit_TTM","amortization","interestOnDeposits","if","interestIncome","priceClose","freeCashflow_TTM","lg","TrendChartVN","App","Navbar","expand","bg","Brand","Nav","Link","as","to","Toggle","Collapse","NavItem","href","Switch","Route","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","BrowserRouter","basename","document","getElementById"],"mappings":"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","file":"static/js/main.baceeecb.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nconst vmiContext = createContext()\r\n\r\nexport { vmiContext as default }","const fetch = require(\"node-fetch\");\r\nrequire(\"dotenv\").config();\r\n\r\n//use for US stock\r\nconst getSymbolList = async (symbol) => {\r\n    try {\r\n        const res = await fetch(`api/vmiUS/getSymbolList/${symbol}`)\r\n        const reports = await res.json();\r\n        const SYMBOL_LIST = reports.map(report => ({\r\n            symbol: report?.symbol,\r\n            name: report?.shortname,\r\n            exchangeShortName: report?.exchDisp\r\n        }))\r\n        return SYMBOL_LIST;\r\n    } catch (error) {\r\n        console.log(error);\r\n        return new Error({ error });\r\n    }\r\n}\r\n\r\nconst getIncomeStatement = async (symbol) => {\r\n    try {\r\n        const res = await fetch(`api/vmiUS/getIncomeStatement/${symbol}`)\r\n        const json = await res.json();\r\n        return json;\r\n    } catch (error) {\r\n        console.log(error);\r\n        return new Error({ error });\r\n    }\r\n}\r\n\r\nconst getBalanceSheet = async (symbol) => {\r\n    try {\r\n        const res = await fetch(`api/vmiUS/getBalanceSheet/${symbol}`)\r\n        const json = await res.json();\r\n        return json;\r\n    } catch (error) {\r\n        console.log(error);\r\n        return new Error({ error });\r\n    }\r\n}\r\n\r\nconst getCashFlow = async (symbol) => {\r\n    try {\r\n        const res = await fetch(`api/vmiUS/getCashFlow/${symbol}`)\r\n        const json = await res.json();\r\n        return json;\r\n    } catch (error) {\r\n        console.log(error);\r\n        return new Error({ error });\r\n    }\r\n}\r\n\r\nconst getRatio = async (symbol, key) => {\r\n    try {\r\n        const res = await fetch(`api/vmiUS/getRatio/${symbol}/${key}`)\r\n        const json = await res.json();\r\n        return json;\r\n    } catch (error) {\r\n        console.log(error);\r\n        return new Error({ error });\r\n    }\r\n}\r\n\r\nexport {\r\n  getSymbolList,\r\n  getIncomeStatement,\r\n  getBalanceSheet,\r\n  getCashFlow,\r\n  getRatio,\r\n};\r\n\r\n\r\n\r\n// const getSymbolList = async (symbol, key) => {\r\n//     try {\r\n//         const res = await fetch(`https://financialmodelingprep.com/api/v3/search-ticker?query=${symbol}&limit=10&apikey=${key}`)\r\n//         const reports = await res.json();\r\n//         const SYMBOL_LIST = reports.map(report => ({\r\n//             symbol: report.symbol,\r\n//             name: report.name,\r\n//             exchangeShortName: report.exchangeShortName\r\n//         }))\r\n//         return SYMBOL_LIST;\r\n//     } catch (error) {\r\n//         console.log(error);\r\n//         return new Error({ error });\r\n//     }\r\n// }\r\n\r\n// const getCompanyQuote = async (symbol, key) => {\r\n//     try {\r\n//         const res = await fetch(`https://financialmodelingprep.com/api/v3/quote/${symbol}?apikey=${key}`)\r\n//         const reports = await res.json();\r\n//         const COMPANY_QUOTE = reports[0]\r\n//         Object.entries(COMPANY_QUOTE).forEach(value => {\r\n//             if (isNaN(value[1])) {\r\n//                 COMPANY_QUOTE[value[0]] = 0\r\n//             } else {\r\n//                 COMPANY_QUOTE[value[0]] = parseFloat(value[1])\r\n//             }\r\n//         })\r\n//         return COMPANY_QUOTE;\r\n//     } catch (error) {\r\n//         return new Error({ error });\r\n//     }\r\n// }\r\n\r\n// const getIncomeStatement = async (symbol, key) => {\r\n//     try {\r\n//         const INCOME_STATEMENT = {\r\n//             fiscalDateEnding: [],\r\n//             reportedCurrency: [],\r\n//             grossProfit: [],\r\n//             totalRevenue: [],\r\n//             costOfRevenue: [],\r\n//             costofGoodsAndServicesSold: [],\r\n//             operatingIncome: [],\r\n//             sellingGeneralAndAdministrative: [],\r\n//             researchAndDevelopment: [],\r\n//             operatingExpenses: [],\r\n//             investmentIncomeNet: [],\r\n//             netInterestIncome: [],\r\n//             interestIncome: [],\r\n//             interestExpense: [],\r\n//             nonInterestIncome: [],\r\n//             otherNonOperatingIncome: [],\r\n//             depreciation: [],\r\n//             depreciationAndAmortization: [],\r\n//             incomeBeforeTax: [],\r\n//             incomeTaxExpense: [],\r\n//             interestAndDebtExpense: [],\r\n//             netIncomeFromContinuingOperations: [],\r\n//             comprehensiveIncomeNetOfTax: [],\r\n//             ebit: [],\r\n//             ebitda: [],\r\n//             netIncome: []\r\n//         }\r\n//         const res = await fetch(`https://www.alphavantage.co/query?function=INCOME_STATEMENT&symbol=${symbol}&apikey=${key}`)\r\n//         const data = await res.json();\r\n\r\n//         //GET ANNUAL REPORT\r\n//         const reports = data.annualReports\r\n//         reports.forEach(report =>\r\n//             Object.entries(report).forEach(value => {\r\n//                 if (value[0] === \"fiscalDateEnding\" || value[0] === \"reportedCurrency\") {\r\n//                     INCOME_STATEMENT[value[0]].push(value[1])\r\n//                 } else {\r\n//                     if (isNaN(value[1])) {\r\n//                         INCOME_STATEMENT[value[0]].push(0)\r\n//                     } else {\r\n//                         //convert to millions with fixed 2 decimal\r\n//                         const num = parseFloat(value[1]) / 1000000\r\n//                         INCOME_STATEMENT[value[0]].push(num)\r\n//                     }\r\n//                 }\r\n//             })\r\n//         )\r\n//         return INCOME_STATEMENT;\r\n//     } catch (error) {\r\n//         return new Error({ error });\r\n//     }\r\n// }\r\n\r\n// const getBalanceSheet = async (symbol, key) => {\r\n//     try {\r\n//         const res = await fetch(`https://www.alphavantage.co/query?function=BALANCE_SHEET&symbol=${symbol}&apikey=${key}`)\r\n//         const data = await res.json();\r\n\r\n//         //GET ONLY THE LATEST QUARTER\r\n//         const BALANCE_SHEET = data.quarterlyReports[0]\r\n//         Object.entries(BALANCE_SHEET).forEach(value => {\r\n//             // convert to millions if not 2 cases\r\n//             if (value[0] !== \"fiscalDateEnding\" && value[0] !== \"reportedCurrency\") {\r\n//                 if (isNaN(value[1])) {\r\n//                     BALANCE_SHEET[value[0]] = 0\r\n//                 } else {\r\n//                     BALANCE_SHEET[value[0]] = parseFloat(value[1]) / 1000000\r\n//                 }\r\n//             }\r\n//         })\r\n//         return BALANCE_SHEET\r\n//     } catch (error) {\r\n//         return new Error({ error });\r\n//     }\r\n// }\r\n\r\n// const getCashFlow = async (symbol, key) => {\r\n//     try {\r\n//         const CASH_FLOW = {\r\n//             fiscalDateEnding: [],\r\n//             reportedCurrency: [],\r\n//             operatingCashflow: [],\r\n//             paymentsForOperatingActivities: [],\r\n//             proceedsFromOperatingActivities: [],\r\n//             changeInOperatingLiabilities: [],\r\n//             changeInOperatingAssets: [],\r\n//             depreciationDepletionAndAmortization: [],\r\n//             capitalExpenditures: [],\r\n//             changeInReceivables: [],\r\n//             changeInInventory: [],\r\n//             profitLoss: [],\r\n//             cashflowFromInvestment: [],\r\n//             cashflowFromFinancing: [],\r\n//             proceedsFromRepaymentsOfShortTermDebt: [],\r\n//             paymentsForRepurchaseOfCommonStock: [],\r\n//             paymentsForRepurchaseOfEquity: [],\r\n//             paymentsForRepurchaseOfPreferredStock: [],\r\n//             dividendPayout: [],\r\n//             dividendPayoutCommonStock: [],\r\n//             dividendPayoutPreferredStock: [],\r\n//             proceedsFromIssuanceOfCommonStock: [],\r\n//             proceedsFromIssuanceOfLongTermDebtAndCapitalSecuritiesNet: [],\r\n//             proceedsFromIssuanceOfPreferredStock: [],\r\n//             proceedsFromRepurchaseOfEquity: [],\r\n//             proceedsFromSaleOfTreasuryStock: [],\r\n//             changeInCashAndCashEquivalents: [],\r\n//             changeInExchangeRate: [],\r\n//             netIncome: []\r\n//         }\r\n//         const res = await fetch(`https://www.alphavantage.co/query?function=CASH_FLOW&symbol=${symbol}&apikey=${key}`)\r\n//         const data = await res.json();\r\n\r\n//         //GET ANNUAL REPORT\r\n//         const reports = data.annualReports\r\n//         reports.forEach(report =>\r\n//             Object.entries(report).forEach(value => {\r\n//                 //push string with 2 cases\r\n//                 if (value[0] === \"fiscalDateEnding\" || value[0] === \"reportedCurrency\") {\r\n//                     CASH_FLOW[value[0]].push(value[1])\r\n//                 } else {\r\n//                     if (isNaN(value[1])) {\r\n//                         CASH_FLOW[value[0]].push(0)\r\n//                     } else {\r\n//                         //convert to millions with fixed 2 decimal\r\n//                         const num = parseFloat(value[1]) / 1000000\r\n//                         CASH_FLOW[value[0]].push(num)\r\n//                     }\r\n//                 }\r\n//             })\r\n//         )\r\n//         return CASH_FLOW;\r\n//     } catch (error) {\r\n//         return new Error({ error });\r\n//     }\r\n// }\r\n\r\n// const getRatio = async (symbol, key) => {\r\n//     try {\r\n//         const res = await fetch(`https://finnhub.io/api/v1/stock/metric?symbol=${symbol}&metric=all&token=${key}`)\r\n//         const data = await res.json();\r\n//         const RATIO = data.metric;\r\n//         return RATIO;\r\n//     } catch (error) {\r\n//         return new Error({ error });\r\n//     }\r\n// }\r\n\r\n// export {\r\n//     getSymbolList,\r\n//     getCompanyQuote,\r\n//     getIncomeStatement,\r\n//     getBalanceSheet,\r\n//     getCashFlow,\r\n//     getRatio\r\n// }\r\n","import React, { useState, useContext } from \"react\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport { AsyncTypeahead } from \"react-bootstrap-typeahead\";\r\nimport { getSymbolList } from \"./dataUS\";\r\nimport vmiContext from \"../../context/vmi-context\";\r\n\r\nconst SearchBar = ({ setSymbol }) => {\r\n  const { setShowError, setMessageError } = useContext(vmiContext);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [quotes, setQuotes] = useState([]);\r\n\r\n  const handleSearch = async (searchTerm) => {\r\n    setIsLoading(true);\r\n    getSymbolList(searchTerm.toUpperCase())\r\n      .then((data) => {\r\n        if (data) {\r\n          setQuotes(data);\r\n          setIsLoading(false);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        setShowError(true);\r\n        setMessageError(\"Server not respond for searching. Please try again later!\")\r\n      });\r\n  };\r\n\r\n  const handleSelect = (e) => quotes.length !== 0 && setSymbol(e[0]?.symbol);\r\n\r\n  return (\r\n    <>\r\n      <AsyncTypeahead\r\n        delay={1000}\r\n        id=\"search-symbol-US\"\r\n        labelKey=\"symbol\"\r\n        isLoading={isLoading}\r\n        minLength={0}\r\n        onSearch={(searchTerm) => handleSearch(searchTerm)}\r\n        onChange={handleSelect}\r\n        options={quotes}\r\n        placeholder=\"Enter a symbol\"\r\n        renderMenuItemChildren={(option, props) => (\r\n          <ListGroup horizontal=\"sm\">\r\n            <ListGroup.Item>{option?.symbol}</ListGroup.Item>\r\n            <ListGroup.Item>{option?.name}</ListGroup.Item>\r\n            <ListGroup.Item className=\"ml-auto\">\r\n              {option?.exchangeShortName}\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        )}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n\r\n//   const [searchTerm, setSearchTerm] = useState(\"\");\r\n//   const debouncedSearchTerm = useDebounce(searchTerm, 500);\r\n\r\n//   useEffect(() => {\r\n//     if (debouncedSearchTerm) {\r\n//       setIsLoading(true);\r\n//       handleSearch(debouncedSearchTerm);\r\n//       setIsLoading(false);\r\n//     }\r\n//   }, [debouncedSearchTerm]);\r\n\r\n//   onSearch={(searchTerm) => setSearchTerm(searchTerm)}\r\n\r\n// function useDebounce(value, delay) {\r\n//   // State and setters for debounced value\r\n//   const [debouncedValue, setDebouncedValue] = useState(value);\r\n//   useEffect(\r\n//     () => {\r\n//       // Update debounced value after delay\r\n//       const handler = setTimeout(() => {\r\n//         setDebouncedValue(value);\r\n//       }, delay);\r\n//       // Cancel the timeout if value changes (also on delay change or unmount)\r\n//       // This is how we prevent debounced value from updating if value is changed ...\r\n//       // .. within the delay period. Timeout gets cleared and restarted.\r\n//       return () => {\r\n//         clearTimeout(handler);\r\n//       };\r\n//     },\r\n//     [value, delay] // Only re-call effect if value or delay changes\r\n//   );\r\n//   return debouncedValue;\r\n// }\r\n","/* eslint-disable */\r\nimport React, { useContext, useState, useEffect } from 'react'\r\n//dont delete import chart\r\nimport { Chart as ChartJS } from 'chart.js/auto'\r\nimport { Bar } from 'react-chartjs-2'\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\r\nimport Button from 'react-bootstrap/Button'\r\nimport vmiContext from '../../context/vmi-context'\r\n\r\nconst TrendChart = () => {\r\n    const { incomeStatement, cashFlow } = useContext(vmiContext)\r\n    const [label, setLabel] = useState(\"\")\r\n    const [index, setIndex] = useState(\"totalRevenue\");\r\n    const [X, setX] = useState([0])\r\n    const [Y, setY] = useState([0])\r\n\r\n    const chartData = {\r\n        labels: X,\r\n        datasets: [\r\n            {\r\n                label: label,\r\n                backgroundColor: '#0dcaf0',\r\n                borderColor: '#0dcaf0',\r\n                borderWidth: 2,\r\n                data: Y\r\n            }\r\n        ]\r\n    }\r\n    \r\n    const handleChange = (e) => {\r\n        setIndex(e.target.value);\r\n    }\r\n\r\n    useEffect(() => {\r\n        let renderData = {}\r\n\r\n        if(\r\n            Object.keys(incomeStatement).length !== 0 \r\n            && Object.keys(cashFlow).length !== 0\r\n        ) {\r\n            switch (index) {\r\n                case \"totalRevenue\": \r\n                    setLabel(\"Revenue\")\r\n                    renderData = {\r\n                        period: incomeStatement[\"endDate\"],\r\n                        values: incomeStatement[\"totalRevenue\"] \r\n                    }\r\n                    break;\r\n                case \"netIncome\": \r\n                    setLabel(\"Net Income\")\r\n                    renderData = {\r\n                        period: incomeStatement[\"endDate\"],\r\n                        values: incomeStatement[\"netIncome\"] \r\n                    } \r\n                    break;\r\n                case \"operatingCashflow\": \r\n                    setLabel(\"Operating CashFlow\")\r\n                    renderData = {\r\n                        period: cashFlow[\"endDate\"],\r\n                        values: cashFlow[\"totalCashFromOperatingActivities\"] \r\n                    } \r\n                    break;\r\n                case \"freeCashflow\": \r\n                    setLabel(\"Free CashFlow\")\r\n                    const operatingCashflow = cashFlow[\"totalCashFromOperatingActivities\"] \r\n                    const capitalExpenditures = cashFlow[\"capitalExpenditures\"]\r\n                    let values = []\r\n                    for(let i = 0; i < 4; i++) {\r\n                        values.push(operatingCashflow[i] + capitalExpenditures[i])\r\n                    }\r\n                    renderData = {\r\n                        period: cashFlow[\"endDate\"],\r\n                        values\r\n                    } \r\n                    break;\r\n                default: \r\n                    renderData = {\r\n                        period: incomeStatement[\"endDate\"],\r\n                        values: incomeStatement[\"totalRevenue\"] \r\n                    } \r\n                    break;\r\n            }\r\n            setX(renderData.period)\r\n            setY(renderData.values)\r\n        }\r\n    }, [index, incomeStatement, cashFlow])\r\n\r\n    return (\r\n        <div>\r\n            <ButtonGroup value={index} onClick={handleChange} >\r\n                <Button variant=\"secondary\" value=\"totalRevenue\">Total Revenue</Button>\r\n                <Button variant=\"secondary\" value=\"netIncome\">Net Income</Button>\r\n                <Button variant=\"secondary\" value=\"operatingCashflow\">Operating CashFlow</Button>\r\n                <Button variant=\"secondary\" value=\"freeCashflow\">Free CashFlow</Button>\r\n            </ButtonGroup>\r\n\r\n            <Bar\r\n                data={chartData}\r\n                options={{\r\n                    title: {\r\n                        display: true,\r\n                        text: 'Average Rainfall per month',\r\n                        fontSize: 20\r\n                    },\r\n                    legend: {\r\n                        display: true,\r\n                        position: 'right'\r\n                    }\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TrendChart","import React from \"react\";\r\nimport Toast from \"react-bootstrap/Toast\";\r\n\r\nconst Error = ({ messageError, showError, setShowError }) => {\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          position: \"absolute\",\r\n          top: 60,\r\n          right: 0,\r\n          zIndex: 50,\r\n          float: \"right\",\r\n        }}\r\n      >\r\n        <Toast\r\n          onClose={() => setShowError(false)}\r\n          show={showError}\r\n            delay={3000} autohide\r\n        >\r\n          <Toast.Header>\r\n            <img className=\"rounded\" alt=\"\" />\r\n            <strong className=\"me-auto\">Error</strong>\r\n          </Toast.Header>\r\n          <Toast.Body>{messageError}</Toast.Body>\r\n        </Toast>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","const calculateDiscountRate = (beta) => {\r\n    let discountRate = 0\r\n    switch (true) {\r\n        case beta <= 0.8: discountRate = 5; break;\r\n        case beta <= 1: discountRate = 5.9; break;\r\n        case beta <= 1.1: discountRate = 6.3; break;\r\n        case beta <= 1.2: discountRate = 6.7; break;\r\n        case beta <= 1.3: discountRate = 7.2; break;\r\n        case beta <= 1.4: discountRate = 7.6; break;\r\n        case beta <= 1.5: discountRate = 8; break;\r\n        case beta > 1.5: discountRate = 8.4; break;\r\n        default: discountRate = 7.2; break;\r\n    }\r\n    return discountRate;\r\n}\r\n\r\nconst calculateDataIV = (netIncome, eps5Y, discountRate, gdpGrowthRate) => {\r\n    const insintricValue = []\r\n    const netIncome1 = netIncome * (1 + eps5Y)\r\n    const discountFactor1 = 1 / (1 + discountRate)\r\n    const discountValue1 = netIncome1 * discountFactor1\r\n\r\n    insintricValue.push({\r\n        netIncome: netIncome1,\r\n        discountFactor: discountFactor1,\r\n        discountValue: discountValue1\r\n    });\r\n\r\n    [...Array(4).keys()].forEach((index) => {\r\n        const netIncome = insintricValue[index].netIncome * (1 + eps5Y)\r\n        const discountFactor = insintricValue[index].discountFactor / (1 + discountRate)\r\n        const discountValue = netIncome * discountFactor\r\n        insintricValue.push({ netIncome, discountFactor, discountValue })\r\n    });\r\n\r\n    [4, 5, 6, 7, 8].forEach((index) => {\r\n        const netIncome = insintricValue[index].netIncome * (1 + eps5Y / 2)\r\n        const discountFactor = insintricValue[index].discountFactor / (1 + discountRate)\r\n        const discountValue = netIncome * discountFactor\r\n        insintricValue.push({ netIncome, discountFactor, discountValue })\r\n    });\r\n\r\n    [9, 10, 11, 12, 13, 14, 15, 16, 17, 18].forEach((index) => {\r\n        const netIncome = insintricValue[index].netIncome * (1 + gdpGrowthRate)\r\n        const discountFactor = insintricValue[index].discountFactor / (1 + discountRate)\r\n        const discountValue = netIncome * discountFactor\r\n        insintricValue.push({ netIncome, discountFactor, discountValue })\r\n    });\r\n\r\n    return insintricValue;\r\n}\r\n\r\nconst calculateInitialIV = (netIncome, eps5Y, discountRate, gdpGrowthRate) => {\r\n    let initialIV = 0\r\n    const data = calculateDataIV(netIncome, eps5Y, discountRate, gdpGrowthRate);\r\n    data.forEach(e => {\r\n        initialIV += e.discountValue\r\n    })\r\n    return initialIV;\r\n};\r\n\r\nconst toRender = (num) => {\r\n    if (num === undefined || typeof (num) !== \"number\") {\r\n        return \"\"\r\n    }\r\n    return num.toFixed(2);\r\n}\r\n\r\nexport {\r\n    calculateDiscountRate,\r\n    calculateInitialIV,\r\n    calculateDataIV,\r\n    toRender\r\n}","import React, { useState, useContext, useEffect } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\r\nimport Tooltip from \"react-bootstrap/Tooltip\";\r\nimport vmiContext from \"../../context/vmi-context\";\r\nimport { toRender } from \"./function\";\r\n\r\nconst BasicInfo = () => {\r\n  const { incomeStatement, cashFlow, ratio, setShowError, setMessageError } = useContext(vmiContext);\r\n  const [validated, setValidated] = useState(false);\r\n  const [basicInfo, setBasicInfo] = useState({});\r\n  \r\n  useEffect(() => {\r\n    try {\r\n      if (\r\n        Object.keys(incomeStatement).length !== 0 &&\r\n        Object.keys(cashFlow).length !== 0 &&\r\n        Object.keys(ratio).length !== 0\r\n      ) {\r\n        const basicInfo = {\r\n          EPS: ratio?.quotes?.epsTrailingTwelveMonths ?? 0,\r\n          PB: ratio?.quotes?.priceToBook ?? 0,\r\n          PE: ratio?.quotes?.trailingPE ?? 0,\r\n          epsGrowth5Y: ratio?.finnhub?.metric?.epsGrowth5Y ?? 0,\r\n          PEG: ratio?.defaultKeyStatistics?.pegRatio ?? 0,\r\n          PSG:\r\n            ratio?.quotes?.priceToBook / ratio?.finnhub?.metric?.revenueGrowth5Y ??\r\n            0,\r\n          ROE5Y: ratio?.financialData?.returnOnEquity ?? 0,\r\n          currentRatio: ratio?.financialData?.currentRatio ?? 0,\r\n          totalDebt: ratio?.financialData?.totalDebt / 1000000 ?? 0,\r\n          ebitda: ratio?.financialData?.ebitda / 1000000 ?? 0,\r\n          debtEbitda:\r\n            ratio?.financialData?.totalDebt / ratio?.financialData?.ebitda ?? 0,\r\n          netInterestIncome: incomeStatement?.interestExpense[0] ?? 0,\r\n          operatingCashflow: cashFlow?.totalCashFromOperatingActivities[0] ?? 0,\r\n          netInterestCFO:\r\n            Math.abs(\r\n              (incomeStatement?.interestExpense[0] /\r\n                cashFlow?.totalCashFromOperatingActivities[0]) *\r\n                100\r\n            ) ?? 0,\r\n        };\r\n        setBasicInfo(basicInfo);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      setShowError(true);\r\n      setMessageError(\"Can not retrieve basic information from server. Please try again later!\")\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [incomeStatement, cashFlow, ratio]);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    // const form = event.currentTarget;\r\n    // if (form.checkValidity() === false) {\r\n    //   event.preventDefault();\r\n    //   event.stopPropagation();\r\n    // }\r\n    // console.log(event.target.validationCustom02.defaultValue);\r\n    setValidated(true);\r\n  };\r\n  return (\r\n    <>\r\n      <Form noValidate validated={validated} onSubmit={handleSubmit}>\r\n        <Row className=\"mb-3\">\r\n          <Form.Group md=\"3\" controlId=\"EPS\">\r\n            <Form.Label>EPS</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"EPS\"\r\n              defaultValue={toRender(basicInfo.EPS)}\r\n            />\r\n          </Form.Group>\r\n          <OverlayTrigger\r\n            placement=\"top\"\r\n            delay={{ show: 250, hide: 400 }}\r\n            overlay={\r\n              <Tooltip id=\"button-tooltip-2\">\r\n                For company losing money: less than 0.5; For Banks, REITS: 1-1.2\r\n              </Tooltip>\r\n            }\r\n          >\r\n            <Form.Group md=\"3\" controlId=\"P/B\">\r\n              <Form.Label>P/B</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"P/B\"\r\n                defaultValue={toRender(basicInfo.PB)}\r\n              />\r\n            </Form.Group>\r\n          </OverlayTrigger>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group md=\"3\" controlId=\"pe\">\r\n              <Form.Label>P/E</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"P/E\"\r\n                defaultValue={toRender(basicInfo.PE)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group md=\"4\" controlId=\"epsGrowth5Y\">\r\n              <Form.Label>EPS Growth 5Y %</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"EPS Growth 5Y\"\r\n                defaultValue={toRender(basicInfo.epsGrowth5Y)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={\r\n                <Tooltip id=\"button-tooltip-2\">Good if less than 1.5</Tooltip>\r\n              }\r\n            >\r\n              <Form.Group md=\"6\" controlId=\"PEG\">\r\n                <Form.Label>PEG</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"PEG\"\r\n                  defaultValue={toRender(basicInfo.PEG)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={\r\n                <Tooltip id=\"button-tooltip-2\">\r\n                  For new Growth companies with strong revenue growth, 0.2 is\r\n                  Fair value, above is overvalued\r\n                </Tooltip>\r\n              }\r\n            >\r\n              <Form.Group md=\"6\" controlId=\"PSG\">\r\n                <Form.Label>PSG</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"PSG\"\r\n                  defaultValue={toRender(basicInfo.PSG)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <OverlayTrigger\r\n            placement=\"top\"\r\n            delay={{ show: 250, hide: 400 }}\r\n            overlay={<Tooltip id=\"button-tooltip-2\">At least 12%-15%</Tooltip>}\r\n          >\r\n            <Form.Group md=\"4\" controlId=\"ROE5Y\">\r\n              <Form.Label>ROE 5Y %</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"ROE 5Y\"\r\n                defaultValue={toRender(basicInfo.ROE5Y)}\r\n              />\r\n            </Form.Group>\r\n          </OverlayTrigger>\r\n          <OverlayTrigger\r\n            placement=\"top\"\r\n            delay={{ show: 250, hide: 400 }}\r\n            overlay={<Tooltip id=\"button-tooltip-2\">More than 1</Tooltip>}\r\n          >\r\n            <Form.Group md=\"4\" controlId=\"currentRatio\">\r\n              <Form.Label>Current Ratio</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Current Ratio\"\r\n                defaultValue={toRender(basicInfo.currentRatio)}\r\n              />\r\n            </Form.Group>\r\n          </OverlayTrigger>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group md=\"6\" controlId=\"totalDebt\">\r\n              <Form.Label>Total Debt</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Total Debt\"\r\n                defaultValue={toRender(basicInfo.totalDebt)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group md=\"6\" controlId=\"ebitda\">\r\n              <Form.Label>EBITDA</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"EBITDA\"\r\n                defaultValue={toRender(basicInfo.ebitda)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={<Tooltip id=\"button-tooltip-2\">Less than 3</Tooltip>}\r\n            >\r\n              <Form.Group md=\"6\" controlId=\"Debt/EBITDA \">\r\n                <Form.Label>Debt/EBITDA</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Debt / EBITDA\"\r\n                  defaultValue={toRender(basicInfo.debtEbitda)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group md=\"6\" controlId=\"Interestexpense\">\r\n              <Form.Label>Net Interest Income</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Net Interest Income\"\r\n                defaultValue={toRender(basicInfo.netInterestIncome)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group md=\"6\" controlId=\"CashFlowOperation\">\r\n              <Form.Label>Operating CashFlow</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Operating CashFlow\"\r\n                defaultValue={toRender(basicInfo.operatingCashflow)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={<Tooltip id=\"button-tooltip-2\">Less than 30%</Tooltip>}\r\n            >\r\n              <Form.Group md=\"6\" controlId=\"netInterestCFO\">\r\n                <Form.Label>Debt Servicing Ratio %</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Interest expense / CFO\"\r\n                  defaultValue={toRender(basicInfo.netInterestCFO)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BasicInfo;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport vmiContext from \"../../context/vmi-context\";\r\nimport {\r\n  calculateDiscountRate,\r\n  calculateInitialIV,\r\n  toRender,\r\n} from \"./function\";\r\n\r\nconst StockValuation = () => {\r\n  const {\r\n    incomeStatement,\r\n    balanceSheet,\r\n    cashFlow,\r\n    ratio,\r\n    setShowError,\r\n    setMessageError,\r\n  } = useContext(vmiContext);\r\n  // const [validated, setValidated] = useState(false);\r\n  const [initialState, setInitialState] = useState({});\r\n  const [stockV, setStockV] = useState({});\r\n  const [stockVCalculate, setStockVCalculate] = useState({});\r\n  const [index, setIndex] = useState(\"netIncome\");\r\n  const [indexData, setIndexData] = useState(\"\");\r\n  const formRef = React.useRef(initialState);\r\n\r\n  const handleChange = (event) => {\r\n    setIndex(event.target.value);\r\n  };\r\n\r\n  const handleReset = (e) => {\r\n    e.preventDefault();\r\n    setStockV(initialState);\r\n    formRef.current.reset();\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const formObj = {\r\n      ...stockV,\r\n      totalDebt: parseFloat(event.target.totalDebt.value),\r\n      cashAndShortTermInvestments: parseFloat(\r\n        event.target.cashAndShortTermInvestments.value\r\n      ),\r\n      epsGrowth5Y: parseFloat(event.target.epsGrowth5Y.value),\r\n      epsGrowth10Y: parseFloat(event.target.epsGrowth10Y.value),\r\n      gdpGrowthRate: parseFloat(event.target.gdpGrowthRate.value),\r\n      discountRate: parseFloat(event.target.discountRate.value),\r\n      sharesOutstanding: parseFloat(event.target.sharesOutstanding.value),\r\n      price: parseFloat(event.target.price.value),\r\n    };\r\n    setStockV(formObj);\r\n\r\n    // const form = event.currentTarget;\r\n    // if (form.checkValidity() === false) {\r\n    //   event.preventDefault();\r\n    //   event.stopPropagation();\r\n    // }\r\n    // setValidated(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    try {\r\n      if (\r\n        Object.keys(incomeStatement).length !== 0 &&\r\n        Object.keys(balanceSheet).length !== 0 &&\r\n        Object.keys(cashFlow).length !== 0 &&\r\n        Object.keys(ratio).length !== 0\r\n      ) {\r\n        const netIncome = cashFlow?.netIncome[0] ?? 0;\r\n        const operatingCashflow =\r\n          cashFlow?.totalCashFromOperatingActivities[0] ?? 0;\r\n        const capitalExpenditure = cashFlow?.capitalExpenditures[0] ?? 0;\r\n        const freeCashflow = operatingCashflow + capitalExpenditure ?? 0;\r\n        const totalDebt = ratio?.financialData?.totalDebt / 1000000 ?? 0;\r\n        const cashAndShortTermInvestments =\r\n          balanceSheet?.cash[0] + balanceSheet?.shortTermInvestments[0] ?? 0;\r\n        const epsGrowth5Y = ratio?.finnhub?.metric?.epsGrowth5Y ?? 0;\r\n        const epsGrowth10Y = ratio?.finnhub?.metric?.epsGrowth5Y / 2 ?? 0;\r\n        const discountRate =\r\n          calculateDiscountRate(ratio?.defaultKeyStatistics.beta) ?? 0;\r\n        const sharesOutstanding =\r\n          ratio?.defaultKeyStatistics?.sharesOutstanding ?? 0;\r\n        const price = ratio?.financialData?.currentPrice ?? 0;\r\n\r\n        let stockV = {\r\n          netIncome,\r\n          operatingCashflow,\r\n          freeCashflow,\r\n          totalDebt,\r\n          cashAndShortTermInvestments,\r\n          epsGrowth5Y,\r\n          epsGrowth10Y,\r\n          gdpGrowthRate: 4.18,\r\n          discountRate,\r\n          sharesOutstanding,\r\n          price,\r\n        };\r\n        setStockV(stockV);\r\n        setInitialState(stockV);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      setShowError(true);\r\n      setMessageError(\r\n        \"Can not retrieve valuation from server. Please try again later!\"\r\n      );\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [ratio, cashFlow, balanceSheet, incomeStatement]);\r\n\r\n  useEffect(() => {\r\n    let data = 0;\r\n    switch (index) {\r\n      case \"netIncome\":\r\n        data = stockV?.netIncome;\r\n        setIndexData(stockV?.netIncome);\r\n        break;\r\n      case \"operatingCashflow\":\r\n        data = stockV?.operatingCashflow;\r\n        setIndexData(stockV?.operatingCashflow);\r\n        break;\r\n      case \"freeCashflow\":\r\n        data = stockV?.freeCashflow;\r\n        setIndexData(stockV?.freeCashflow);\r\n        break;\r\n      default:\r\n        data = stockV?.netIncome;\r\n        setIndexData(stockV?.netIncome);\r\n        break;\r\n    }\r\n\r\n    const pv20Y = calculateInitialIV(\r\n      data,\r\n      stockV?.epsGrowth5Y / 100,\r\n      stockV?.discountRate / 100,\r\n      stockV?.gdpGrowthRate / 100\r\n    );\r\n    const initialIV = (pv20Y * 1000000) / stockV?.sharesOutstanding;\r\n    const debtPerShare =\r\n      (stockV?.totalDebt * 1000000) / stockV?.sharesOutstanding;\r\n    const cashPerShare =\r\n      (stockV?.cashAndShortTermInvestments * 1000000) /\r\n      stockV?.sharesOutstanding;\r\n    const finalIV = initialIV - debtPerShare + cashPerShare;\r\n\r\n    let calculatedData = {\r\n      pv20Y,\r\n      initialIV,\r\n      debtPerShare,\r\n      cashPerShare,\r\n      finalIV,\r\n      premium: (stockV.price / finalIV - 1) * 100,\r\n    };\r\n    setStockVCalculate(calculatedData);\r\n  }, [index, stockV]);\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"border-top mt-2\">Stock Valuation</h1>\r\n      <Container>\r\n        <Row xs=\"1\" md=\"2\">\r\n          <Col>\r\n            <ButtonGroup className=\"w-25\" value={index} onClick={handleChange}>\r\n              <Button variant=\"secondary\" value=\"netIncome\">\r\n                Net Income\r\n              </Button>\r\n              <Button variant=\"secondary\" value=\"operatingCashflow\">\r\n                Operating Cash Flow\r\n              </Button>\r\n              <Button variant=\"secondary\" value=\"freeCashflow\">\r\n                FreeCashFlow\r\n              </Button>\r\n            </ButtonGroup>\r\n          </Col>\r\n          <Col>\r\n            <Button variant=\"secondary\" onClick={handleReset}>\r\n              Reset\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form onSubmit={handleSubmit} ref={formRef} className=\"mb-3\">\r\n              <Row>\r\n                <Form.Group md=\"3\" controlId=\"indexData\">\r\n                  <Form.Label>Value</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Number\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(indexData)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"6\" controlId=\"totalDebt\">\r\n                  <Form.Label>Total Debt</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Total Debt\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.totalDebt)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"6\" controlId=\"cashAndShortTermInvestments\">\r\n                  <Form.Label>Cash and ShortTerm-Investments</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Cash And ShortTerm Investments\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.cashAndShortTermInvestments)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"epsGrowth5Y\">\r\n                  <Form.Label>EPS Growth5Y %</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"EPS Growth5Y\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.epsGrowth5Y)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"epsGrowth10Y\">\r\n                  <Form.Label>EPS Growth10Y %</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"EPS Growth10Y\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.epsGrowth10Y)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"gdpGrowthRate\">\r\n                  <Form.Label>GDP GrowthRate %</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"GDP Growth Rate\"\r\n                    defaultValue={toRender(stockV.gdpGrowthRate)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <br />\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"discountRate\">\r\n                  <Form.Label>Discount Rate %</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Discount Rate\"\r\n                    defaultValue={toRender(stockV.discountRate)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"sharesOutstanding\">\r\n                  <Form.Label>SharesOutstanding</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"SharesOutstanding\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.sharesOutstanding)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"price\">\r\n                  <Form.Label>Last Close</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Price\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.price)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <br />\r\n              <Button variant=\"secondary\" type=\"submit\">\r\n                Calculate Insintric Value\r\n              </Button>\r\n            </Form>\r\n          </Col>\r\n          <Col>\r\n            <Form>\r\n              <Form.Group md=\"3\" controlId=\"pv20Y\">\r\n                <Form.Label>PV of 20 yr</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"PV20Y\"\r\n                  defaultValue={toRender(stockVCalculate.pv20Y)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"6\" controlId=\"initialIV\" readOnly>\r\n                <Form.Label>Intrinsic Value before cash/debt</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Initial IV\"\r\n                  defaultValue={toRender(stockVCalculate.initialIV)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"6\" controlId=\"debtPerShare\" readOnly>\r\n                <Form.Label>Less (-) Debt Per Share</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Debt Per Share\"\r\n                  defaultValue={toRender(stockVCalculate.debtPerShare)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"4\" controlId=\"cashPerShare\" readOnly>\r\n                <Form.Label>Plus (+) Cash Per Share</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"EPS Growth 5Y\"\r\n                  defaultValue={toRender(stockVCalculate.cashPerShare)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"4\" controlId=\"finalIV\" readOnly>\r\n                <Form.Label>Final Intrinsic Value Per Share</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Final IV\"\r\n                  defaultValue={toRender(stockVCalculate.finalIV)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"4\" controlId=\"premium\" readOnly>\r\n                <Form.Label>(Discount)/Premium %</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Premium\"\r\n                  defaultValue={toRender(stockVCalculate.premium)}\r\n                />\r\n              </Form.Group>\r\n              <br />\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StockValuation;\r\n","import React, { useEffect, useState, Suspense } from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Row from 'react-bootstrap/Row'\r\nimport vmiContext from '../../context/vmi-context'\r\nimport SearchBar from './searchBarUS'\r\nimport TrendChart from './trendChartUS'\r\nimport Error from '../Error'\r\nimport { getIncomeStatement, getBalanceSheet, getCashFlow, getRatio } from './dataUS'\r\nimport BasicInfo from './basicInfoUS'\r\nimport StockValuation from './stockValuationUS'\r\nrequire('dotenv').config()\r\n\r\nconst VmiUS = () => {\r\n\r\n    const [showError, setShowError] = useState(false);\r\n    const [messageError, setMessageError] = useState(\"\")\r\n    const [symbol, setSymbol] = useState(\"\");\r\n    const [incomeStatement, setIncomeStatement] = useState({});\r\n    const [balanceSheet, setBalanceSheet] = useState({});\r\n    const [cashFlow, setCashFlow] = useState({});\r\n    const [ratio, setRatio] = useState({});\r\n\r\n    useEffect(() => {\r\n        if (!!symbol) {\r\n            try {\r\n                getIncomeStatement(symbol).then(incomeStatement => setIncomeStatement(incomeStatement))\r\n                getBalanceSheet(symbol).then(balanceSheet => setBalanceSheet(balanceSheet))\r\n                getCashFlow(symbol).then(cashFlow => setCashFlow(cashFlow))\r\n                getRatio(symbol, process.env.REACT_APP_FINNHUB_KEY).then(ratio => setRatio(ratio))\r\n            } catch (error) {\r\n                console.log(error);\r\n                setShowError(true);\r\n                setMessageError(\"Can not retrieve fundamental data from server. Please try again later!\")\r\n            }\r\n        }\r\n    }, [symbol])\r\n    return (\r\n        <>\r\n            <Suspense fallback={<h1>Still Loading</h1>}>\r\n                <vmiContext.Provider value={{ incomeStatement, balanceSheet, cashFlow, ratio, setShowError, setMessageError}}>\r\n                <Error showError={showError} setShowError={setShowError} messageError={messageError} />\r\n                    <Container fluid className=\"mt-3\">\r\n                        <Row>\r\n                            <Col xs={1} className='d-flex align-items-center justify-content-center' >\r\n                                <div >Symbol</div>\r\n                            </Col>\r\n                            <Col xs={2} md={4}>\r\n                                <SearchBar setSymbol={setSymbol} />\r\n                            </Col>\r\n                            <div className=\"text-muted\">All number is in millions</div>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                                <BasicInfo />\r\n                            </Col>\r\n                            <Col>\r\n                                <TrendChart />\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <StockValuation />\r\n                        </Row>\r\n                    </Container>\r\n                </vmiContext.Provider>\r\n            </Suspense>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default VmiUS;","const fetch = require(\"node-fetch\");\r\nrequire(\"dotenv\").config();\r\nconst date = new Date()\r\nconst yesterday = new Date(Date.now() - 86400000).toISOString();\r\nconst today = new Date().toISOString();\r\nconst year = date.getFullYear();\r\n\r\n//use for VN stock\r\nconst getSymbolListVN = async (symbol, key) => {\r\n\r\n  try {\r\n    const res = await fetch(\r\n      `https://restv2.fireant.vn/search?keywords=${symbol}&type=symbol&offset=0&limit=20`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${key}`,\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n    const SYMBOL_LIST = await res.json();\r\n    // console.log(SYMBOL_LIST)\r\n    return SYMBOL_LIST;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n//getSymbolListVN(\"C\", key);\r\n\r\nconst getPriceVN = async (symbol, key) => {\r\n  try {\r\n    const res = await fetch(\r\n      `https://api.fireant.vn/symbols/${symbol}/historical-quotes?startDate=${yesterday}&endDate=${today}`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${key}`,\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n    const PRICE = await res.json();\r\n    // console.log(PRICE);\r\n    return PRICE[0];\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n// getPriceVN()\r\n\r\nconst getCompanyProfileVN = async (symbol, key) => {\r\n  try {\r\n    const res = await fetch(\r\n      `https://restv2.fireant.vn/symbols/${symbol}/fundamental`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${key}`,\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n    const COMPANY_PROFILE = await res.json();\r\n    // console.log(COMPANY_PROFILE);\r\n    return COMPANY_PROFILE;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n// getCompanyProfile();\r\n\r\nconst getIncomeStatementVN = async (symbol, key) => {\r\n  try {\r\n    const res = await fetch(\r\n      `https://restv2.fireant.vn/symbols/${symbol}/full-financial-reports?type=2&year=${year}&quarter=0&limit=6`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${key}`,\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n\r\n    const reports = await res.json();\r\n    const INCOME_STATEMENT = [];\r\n\r\n    for (let i = 0; i < reports.length; i++) {\r\n      const report = reports[i];\r\n      const period = [];\r\n      const value = [];\r\n      report.values.forEach((element) => {\r\n        period.push(element.period);\r\n        value.push(element.value / 1000000);\r\n      });\r\n      const returnreport = {\r\n        ...report,\r\n        values: { period, value },\r\n      };\r\n      INCOME_STATEMENT.push(returnreport);\r\n    }\r\n    // console.log(INCOME_STATEMENT)\r\n    return INCOME_STATEMENT;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n// getIncomeStatementVN('VNM', \"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSIsImtpZCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSJ9\");\r\n\r\nconst getBalanceSheetVN = async (\r\n  symbol,\r\n  key = process.env.REACT_APP_FIREANT_KEY\r\n) => {\r\n  try {\r\n    const res = await fetch(\r\n      `https://restv2.fireant.vn/symbols/${symbol}/full-financial-reports?type=1&year=${year}&quarter=3&limit=6`,\r\n      {\r\n        headers: {\r\n          Authorization:\r\n            \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSIsImtpZCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSJ9.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4iLCJhdWQiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4vcmVzb3VyY2VzIiwiZXhwIjoxOTU4OTA5NzA3LCJuYmYiOjE2NTg5MDk3MDcsImNsaWVudF9pZCI6ImZpcmVhbnQudHJhZGVzdGF0aW9uIiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSIsInJvbGVzIiwiZW1haWwiLCJhY2NvdW50cy1yZWFkIiwiYWNjb3VudHMtd3JpdGUiLCJvcmRlcnMtcmVhZCIsIm9yZGVycy13cml0ZSIsImNvbXBhbmllcy1yZWFkIiwiaW5kaXZpZHVhbHMtcmVhZCIsImZpbmFuY2UtcmVhZCIsInBvc3RzLXdyaXRlIiwicG9zdHMtcmVhZCIsInN5bWJvbHMtcmVhZCIsInVzZXItZGF0YS1yZWFkIiwidXNlci1kYXRhLXdyaXRlIiwidXNlcnMtcmVhZCIsInNlYXJjaCIsImFjYWRlbXktcmVhZCIsImFjYWRlbXktd3JpdGUiLCJibG9nLXJlYWQiLCJpbnZlc3RvcGVkaWEtcmVhZCJdLCJzdWIiOiIyODVjNTdkMS1kMmRmLTRiYTUtOTE4Mi0yOTYyZDk1ZTM2ZDAiLCJhdXRoX3RpbWUiOjE2NTg5MDk3MDUsImlkcCI6Imlkc3J2IiwibmFtZSI6InNvbmJhdGdpb2kyQGdtYWlsLmNvbSIsInNlY3VyaXR5X3N0YW1wIjoiMzA0MjVhOTYtYzQyZS00ZmZjLWI0ZTgtMGU2ZDk4ZGQ0YzY3IiwianRpIjoiYmIxZmE4Njc4MzdiOThiOWNjMGI2NjNhYjhiZmM2MjQiLCJhbXIiOlsicGFzc3dvcmQiXX0.pZEgQ4RH7TOUSWo_eezAFumnxZzVMfzsM_nG1IKeFqs396uAeJuRpAgQl481S-MA-S2nqcq0yoUlUwaq4zBGs7qCFWuWMafuzRbyGt-IKHoY4QplILe1y7nODEgeOQXC8FY-qmtYK_Nbs5oEvYq_K-QUX3dqjlUwi_sPJwa4mPQd9Dow7-3IenniVAuqA9XW1XY2XEp6TkxcmZ-5cbnexTOECiIj_-XdYul0QVOFCZlEt2iEmFbRgdpPGP96e-YbmKgWswoCFXij81nsiHxDmm4Hu_AHi2-ZR9KM4XIe-eeKr2q-pMzkS2Ii9iVcEqHnvSq5eYb46W_qPB4ZmK-3pQ\",\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n    const reports = await res.json();\r\n\r\n    const BALANCE_SHEET = [];\r\n    for (let i = 0; i < reports.length; i++) {\r\n      const report = reports[i];\r\n      const period = [];\r\n      const value = [];\r\n      report.values.forEach((element) => {\r\n        period.push(element.period);\r\n        value.push(element.value / 1000000);\r\n      });\r\n      const returnreport = {\r\n        ...report,\r\n        values: { period, value },\r\n      };\r\n      BALANCE_SHEET.push(returnreport);\r\n    }\r\n    // console.log(BALANCE_SHEET)\r\n    return BALANCE_SHEET;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n\r\n//getBalanceSheet();\r\n\r\nconst getCashFLowVN = async (\r\n  symbol = \"FPT\",\r\n  key = process.env.REACT_APP_FIREANT_KEY\r\n) => {\r\n  try {\r\n    const res = await fetch(\r\n      `https://restv2.fireant.vn/symbols/${symbol}/full-financial-reports?type=4&year=${year}&quarter=0&limit=6`,\r\n      {\r\n        headers: {\r\n          Authorization:\r\n            \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSIsImtpZCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSJ9.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4iLCJhdWQiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4vcmVzb3VyY2VzIiwiZXhwIjoxOTU4OTA5NzA3LCJuYmYiOjE2NTg5MDk3MDcsImNsaWVudF9pZCI6ImZpcmVhbnQudHJhZGVzdGF0aW9uIiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSIsInJvbGVzIiwiZW1haWwiLCJhY2NvdW50cy1yZWFkIiwiYWNjb3VudHMtd3JpdGUiLCJvcmRlcnMtcmVhZCIsIm9yZGVycy13cml0ZSIsImNvbXBhbmllcy1yZWFkIiwiaW5kaXZpZHVhbHMtcmVhZCIsImZpbmFuY2UtcmVhZCIsInBvc3RzLXdyaXRlIiwicG9zdHMtcmVhZCIsInN5bWJvbHMtcmVhZCIsInVzZXItZGF0YS1yZWFkIiwidXNlci1kYXRhLXdyaXRlIiwidXNlcnMtcmVhZCIsInNlYXJjaCIsImFjYWRlbXktcmVhZCIsImFjYWRlbXktd3JpdGUiLCJibG9nLXJlYWQiLCJpbnZlc3RvcGVkaWEtcmVhZCJdLCJzdWIiOiIyODVjNTdkMS1kMmRmLTRiYTUtOTE4Mi0yOTYyZDk1ZTM2ZDAiLCJhdXRoX3RpbWUiOjE2NTg5MDk3MDUsImlkcCI6Imlkc3J2IiwibmFtZSI6InNvbmJhdGdpb2kyQGdtYWlsLmNvbSIsInNlY3VyaXR5X3N0YW1wIjoiMzA0MjVhOTYtYzQyZS00ZmZjLWI0ZTgtMGU2ZDk4ZGQ0YzY3IiwianRpIjoiYmIxZmE4Njc4MzdiOThiOWNjMGI2NjNhYjhiZmM2MjQiLCJhbXIiOlsicGFzc3dvcmQiXX0.pZEgQ4RH7TOUSWo_eezAFumnxZzVMfzsM_nG1IKeFqs396uAeJuRpAgQl481S-MA-S2nqcq0yoUlUwaq4zBGs7qCFWuWMafuzRbyGt-IKHoY4QplILe1y7nODEgeOQXC8FY-qmtYK_Nbs5oEvYq_K-QUX3dqjlUwi_sPJwa4mPQd9Dow7-3IenniVAuqA9XW1XY2XEp6TkxcmZ-5cbnexTOECiIj_-XdYul0QVOFCZlEt2iEmFbRgdpPGP96e-YbmKgWswoCFXij81nsiHxDmm4Hu_AHi2-ZR9KM4XIe-eeKr2q-pMzkS2Ii9iVcEqHnvSq5eYb46W_qPB4ZmK-3pQ\",\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n    const reports = await res.json();\r\n\r\n    const CASH_FLOW = [];\r\n    for (let i = 0; i < reports.length; i++) {\r\n      const report = reports[i];\r\n      const period = [];\r\n      const value = [];\r\n      report.values.forEach((element) => {\r\n        period.push(element.period);\r\n        value.push(element.value / 1000000);\r\n      });\r\n      const returnreport = {\r\n        ...report,\r\n        values: { period, value },\r\n      };\r\n      CASH_FLOW.push(returnreport);\r\n    }\r\n    // console.log(CASH_FLOW)\r\n    return CASH_FLOW;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n\r\n//getCashFLow();\r\n\r\nconst getRatioVN = async (symbol, key) => {\r\n  try {\r\n    const res = await fetch(\r\n      `https://restv2.fireant.vn/symbols/${symbol}/financial-indicators`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${key}`,\r\n          Host: \"restv2.fireant.vn\",\r\n        },\r\n      }\r\n    );\r\n    const reports = await res.json();\r\n    const RATIO = reports.map((report) => ({\r\n      symbol: report.shortName,\r\n      value: report.value,\r\n      change: report.change,\r\n      industryValue: report.industryValue,\r\n    }));\r\n    // console.log(RATIO)\r\n    return RATIO;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n// getRatioVN(\"FPT\", key);\r\n\r\n//This function is use for get EPS 5Y, 10Y to calculate EPSGrowthRate\r\nconst getRatioCafeF = async (symbol) => {\r\n  try {\r\n    const res = await fetch(`https://e.cafef.vn/fi.ashx?symbol=${symbol}`);\r\n    const reports = await res.json();\r\n    const Symbol = reports[0].Symbol;\r\n    const Year = [],\r\n      EPS = [],\r\n      BV = [],\r\n      PE = [],\r\n      ROA = [],\r\n      ROE = [],\r\n      ROS = [],\r\n      GOS = [],\r\n      DAR = [];\r\n    reports.forEach((report) => {\r\n      Year.push(report.Year);\r\n      EPS.push(report.EPS);\r\n      BV.push(report.BV);\r\n      PE.push(report.PE);\r\n      ROA.push(report.ROA);\r\n      ROE.push(report.ROE);\r\n      ROS.push(report.ROS);\r\n      GOS.push(report.GOS);\r\n      DAR.push(report.DAR);\r\n    });\r\n    const RATIO = {\r\n      Symbol,\r\n      Year,\r\n      EPS,\r\n      BV,\r\n      PE,\r\n      ROA,\r\n      ROE,\r\n      ROS,\r\n      GOS,\r\n      DAR,\r\n    };\r\n    return RATIO;\r\n  } catch (error) {\r\n    return new Error({ error });\r\n  }\r\n};\r\n// getRatioCafeF(\"BCG\")\r\n\r\nexport {\r\n  getSymbolListVN,\r\n  getCompanyProfileVN,\r\n  getIncomeStatementVN,\r\n  getBalanceSheetVN,\r\n  getCashFLowVN,\r\n  getRatioVN,\r\n  getRatioCafeF,\r\n  getPriceVN\r\n};\r\n","import React, { useState } from \"react\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport { AsyncTypeahead } from \"react-bootstrap-typeahead\";\r\nimport { getSymbolListVN } from \"./utils/api\";\r\n\r\nconst SearchBar = ({ setSymbol }) => {\r\n  const [isLoading] = useState(false);\r\n  const [options, setOptions] = useState([]);\r\n\r\n  const handleSearch = async (searchTerm) => {\r\n    try {\r\n      const options = await getSymbolListVN(\r\n        searchTerm,\r\n        process.env.REACT_APP_FIREANT_KEY\r\n      );\r\n      setOptions(options);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  const handleSelect = (e) => {\r\n    e.length !== 0 && setSymbol(e[0]?.key)\r\n  };\r\n\r\n  // Bypass client-side filtering by returning `true`. Results are already\r\n  // filtered by the search endpoint, so no need to do it again.\r\n  const filterBy = () => true;\r\n\r\n  return (\r\n    <AsyncTypeahead\r\n      delay={500}\r\n      filterBy={filterBy}\r\n      id=\"async-example\"\r\n      isLoading={isLoading}\r\n      onChange={handleSelect}\r\n      labelKey=\"key\"\r\n      minLength={0}\r\n      onSearch={(searchTerm) => handleSearch(searchTerm)}\r\n      options={options}\r\n      placeholder=\"Enter a symbol\"\r\n      renderMenuItemChildren={(option, props) => (\r\n        <ListGroup horizontal={true}>\r\n          <ListGroup.Item>{option.key}</ListGroup.Item>\r\n          <ListGroup.Item>{option.name}</ListGroup.Item>\r\n          <ListGroup.Item className=\"ml-auto\">\r\n            {option.description}\r\n          </ListGroup.Item>\r\n        </ListGroup>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\r\nimport Tooltip from \"react-bootstrap/Tooltip\";\r\nimport vmiContext from \"../../context/vmi-context\";\r\nimport { toRender } from \"../vmiUS/function\";\r\n\r\nconst BasicInfoVN = () => {\r\n  const { dataBasicInfo } = useContext(vmiContext);\r\n  const [validated, setValidated] = useState(false);\r\n  const [basicInfo, setBasicInfo] = useState({});\r\n\r\n  useEffect(() => {\r\n    setBasicInfo(dataBasicInfo)\r\n  },[dataBasicInfo])\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValidated(true);\r\n  };\r\n  return (\r\n    <>\r\n      <Form noValidate validated={validated} onSubmit={handleSubmit}>\r\n        <Row className=\"mb-3\">\r\n          <Col>\r\n            <Form.Group md=\"3\" controlId=\"EPS\">\r\n              <Form.Label>EPS</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"EPS\"\r\n                defaultValue={toRender(basicInfo.epsNormalizedAnnual)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group md=\"3\" controlId=\"epsIndustry\">\r\n              <Form.Label>EPS Industry</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"EPS Industry\"\r\n                defaultValue={toRender(basicInfo.epsIndustry)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <OverlayTrigger\r\n          placement=\"top\"\r\n          delay={{ show: 250, hide: 400 }}\r\n          overlay={\r\n            <Tooltip id=\"button-tooltip-2\">\r\n              For company losing money: less than 0.5; For Banks, REITS: 1-1.2\r\n            </Tooltip>\r\n          }\r\n        >\r\n          <Row>\r\n            <Col>\r\n              <Form.Group md=\"3\" controlId=\"P/B\">\r\n                <Form.Label>P/B</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"P/B\"\r\n                  defaultValue={toRender(basicInfo.pbAnnual)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Group md=\"3\" controlId=\"pbIndustry\">\r\n                <Form.Label>P/B Industry</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"P/B Industry\"\r\n                  defaultValue={toRender(basicInfo.pbIndustry)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n        </OverlayTrigger>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group md=\"3\" controlId=\"pe\">\r\n              <Form.Label>P/E</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"P/E\"\r\n                defaultValue={toRender(basicInfo.peNormalizedAnnual)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group md=\"3\" controlId=\"peIndustry\">\r\n              <Form.Label>P/E Industry</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"P/E Industry\"\r\n                defaultValue={toRender(basicInfo.peIndustry)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group md=\"3\" controlId=\"ps\">\r\n              <Form.Label>P/S</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"P/S\"\r\n                defaultValue={toRender(basicInfo.psAnnual)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group md=\"3\" controlId=\"psIndustry\">\r\n              <Form.Label>P/S Industry</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"P/S Industry\"\r\n                defaultValue={toRender(basicInfo.psIndustry)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group md=\"4\" controlId=\"epsGrowth5Y\">\r\n              <Form.Label>EPS Growth 5Y %</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"EPS Growth5Y\"\r\n                defaultValue={toRender(basicInfo.epsGrowth5Y)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={\r\n                <Tooltip id=\"button-tooltip-2\">Good if less than 1.5</Tooltip>\r\n              }\r\n            >\r\n              <Form.Group md=\"6\" controlId=\"peg\">\r\n                <Form.Label>PEG</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"PEG\"\r\n                  defaultValue={toRender(basicInfo.peg)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={\r\n                <Tooltip id=\"button-tooltip-2\">\r\n                  For new Growth companies with strong revenue growth, 0.2 is\r\n                  Fair value, above is overvalued\r\n                </Tooltip>\r\n              }\r\n            >\r\n              <Form.Group md=\"6\" controlId=\"psg\">\r\n                <Form.Label>PSG</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"PSG\"\r\n                  defaultValue={toRender(basicInfo.psg)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={\r\n                <Tooltip id=\"button-tooltip-2\">At least 12%-15%</Tooltip>\r\n              }\r\n            >\r\n              <Form.Group md=\"4\" controlId=\"roae5Y\">\r\n                <Form.Label>ROE 5Y %</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"ROE 5Y\"\r\n                  defaultValue={toRender(basicInfo.roae5Y)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group md=\"4\" controlId=\"roeIndustry\">\r\n              <Form.Label>ROE Industry %</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"ROE Industry\"\r\n                defaultValue={toRender(basicInfo.roeIndustry)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={<Tooltip id=\"button-tooltip-2\">More than 1</Tooltip>}\r\n            >\r\n              <Form.Group md=\"4\" controlId=\"currentRatioAnnual\">\r\n                <Form.Label>Current Ratio</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Current Ratio\"\r\n                  defaultValue={toRender(basicInfo.currentRatioAnnual)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group md=\"4\" controlId=\"currentRatioIndustry\">\r\n              <Form.Label>Current Ratio Industry</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Current Ratio Industry\"\r\n                defaultValue={toRender(basicInfo.currentRatioAnnualIndustry)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group md=\"6\" controlId=\"totalDebt\">\r\n              <Form.Label>Total Debt</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Total Debt\"\r\n                defaultValue={toRender(basicInfo.totalDebt)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group md=\"6\" controlId=\"ebitda\">\r\n              <Form.Label>EBITDA</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"EBITDA\"\r\n                defaultValue={toRender(basicInfo.ebitda)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={<Tooltip id=\"button-tooltip-2\">Less than 3</Tooltip>}\r\n            >\r\n              <Form.Group md=\"6\" controlId=\"Debt/EBITDA \">\r\n                <Form.Label>Debt/EBITDA</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Debt/EBITDA\"\r\n                  defaultValue={toRender(basicInfo.debtEbitda)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group md=\"6\" controlId=\"interestExpense\">\r\n              <Form.Label>Net Interest Income</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Net Interest Income\"\r\n                defaultValue={toRender(basicInfo.netInterestIncome)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group md=\"6\" controlId=\"CashFlowOperation\">\r\n              <Form.Label>Operating Cashflow</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Operating Cashflow\"\r\n                defaultValue={toRender(basicInfo.operatingCashflow)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={<Tooltip id=\"button-tooltip-2\">Less than 30%</Tooltip>}\r\n            >\r\n              <Form.Group md=\"6\" controlId=\"netInterestCFO\">\r\n                <Form.Label>Debt Servicing Ratio %</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Interest expense/CFO\"\r\n                  defaultValue={toRender(basicInfo.debtServicingRatio)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              delay={{ show: 250, hide: 400 }}\r\n              overlay={<Tooltip id=\"button-tooltip-2\">More than 1</Tooltip>}\r\n            >\r\n              <Form.Group md=\"4\" controlId=\"currentRatioAnnual\">\r\n                <Form.Label>Dividend</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  defaultValue={toRender(basicInfo.dividend)}\r\n                />\r\n              </Form.Group>\r\n            </OverlayTrigger>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group md=\"4\" controlId=\"currentRatioIndustry\">\r\n              <Form.Label>Dividend Yield %</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                defaultValue={toRender(basicInfo.dividendYield)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BasicInfoVN;\r\n","/* eslint-disable */\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\n//dont delete import chart\r\nimport { Chart as ChartJS } from \"chart.js/auto\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport vmiContext from \"../../context/vmi-context\";\r\n\r\nconst TrendChart = () => {\r\n  const { dataTrendChart } = useContext(vmiContext);\r\n  const [trendChart, setTrendChart] = useState({});\r\n\r\n  const [index, setIndex] = useState(1);\r\n  const [X, setX] = useState([]);\r\n  const [Y, setY] = useState([]);\r\n  const [label, setLabel] = useState(\"\");\r\n\r\n  const chartData = {\r\n    labels: X,\r\n    datasets: [\r\n      {\r\n        label: label,\r\n        backgroundColor: \"#0dcaf0\",\r\n        borderColor: \"#0dcaf0\",\r\n        borderWidth: 2,\r\n        data: Y,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setIndex(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTrendChart(dataTrendChart);\r\n  }, [dataTrendChart]);\r\n\r\n  useEffect(() => {\r\n    let value = {};\r\n    switch (index) {\r\n      case \"totalRevenue\":\r\n        setLabel(\"Revenue\");\r\n        value = trendChart.revenue;\r\n        break;\r\n      case \"netIncome\":\r\n        setLabel(\"Net Income\");\r\n        value = trendChart.netIncome;\r\n        break;\r\n      case \"operatingCashflow\":\r\n        setLabel(\"Cash flow from operation\");\r\n        value = trendChart.operatingCashflow;\r\n        break;\r\n\r\n      case \"freeCashflow\":\r\n        setLabel(\"Free CashFlow\");\r\n        value = trendChart.freeCashFlow;\r\n        break;\r\n      default:\r\n        setLabel(\"Revenue\");\r\n        value = trendChart.revenue;\r\n        break;\r\n    }\r\n    setX(trendChart.period);\r\n    setY(value);\r\n  }, [index, trendChart]);\r\n\r\n  return (\r\n    <div>\r\n      <ButtonGroup value={index} onClick={handleChange}>\r\n        <Button variant=\"secondary\" value=\"totalRevenue\">\r\n          Total Revenue\r\n        </Button>\r\n        <Button variant=\"secondary\" value=\"netIncome\">\r\n          Net Income\r\n        </Button>\r\n        <Button variant=\"secondary\" value=\"operatingCashflow\">\r\n          OperatingCashFlow\r\n        </Button>\r\n        <Button variant=\"secondary\" value=\"freeCashflow\">\r\n          FreeCashFlow\r\n        </Button>\r\n      </ButtonGroup>\r\n\r\n      <Bar\r\n        data={chartData}\r\n        options={{\r\n          title: {\r\n            display: true,\r\n            text: \"Chart for VMI\",\r\n            fontSize: 20,\r\n          },\r\n          legend: {\r\n            display: true,\r\n            position: \"right\",\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrendChart;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport vmiContext from \"../../context/vmi-context\";\r\nimport {\r\n  calculateInitialIV,\r\n  toRender,\r\n} from \"../vmiUS/function\";\r\n\r\nconst StockValuationVN = () => {\r\n  const {\r\n    dataStockV\r\n  } = useContext(vmiContext);\r\n  // const [validated, setValidated] = useState(false);\r\n  const [initialState, setInitialState] = useState({});\r\n  const [stockV, setStockV] = useState({});\r\n  const [stockVCalculate, setStockVCalculate] = useState({});\r\n  const [index, setIndex] = useState(\"netIncome\");\r\n  const [indexData, setIndexData] = useState(\"\");\r\n  const formRef = React.useRef(initialState);\r\n\r\n  const handleChange = (event) => {\r\n    setIndex(event.target.value);\r\n  };\r\n\r\n  const handleReset = (e) => {\r\n    e.preventDefault();\r\n    setStockV(initialState);\r\n    formRef.current.reset();\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const formObj = {\r\n      ...stockV,\r\n      totalDebt: parseFloat(event.target.totalDebt.value),\r\n      cashAndShortTermInvestments: parseFloat(\r\n        event.target.cashAndShortTermInvestments.value\r\n      ),\r\n      epsGrowth5Y: parseFloat(event.target.epsGrowth5Y.value),\r\n      epsGrowth10Y: parseFloat(event.target.epsGrowth10Y.value),\r\n      gdpGrowthRate: parseFloat(event.target.gdpGrowthRate.value),\r\n      discountRate: parseFloat(event.target.discountRate.value),\r\n      sharesOutstanding: parseFloat(event.target.sharesOutstanding.value),\r\n      price: parseFloat(event.target.price.value),\r\n    };\r\n    setStockV(formObj);\r\n  };\r\n\r\n  //   useEffect(() => {\r\n  //     if (\r\n  //       Object.keys(incomeStatement).length !== 0 &&\r\n  //       Object.keys(balanceSheet).length !== 0 &&\r\n  //       Object.keys(cashFlow).length !== 0 &&\r\n  //       Object.keys(profile).length !== 0 &&\r\n  //       Object.keys(ratio).length !== 0 &&\r\n  //       Object.keys(ratioCafeF).length !== 0\r\n  //     ) {\r\n  //       const netIncome = cashFlow.find((element) => {\r\n  //         return element.id === 101 ? element.values.value.slice(-1)[0] : null;\r\n  //       });\r\n  //       const operatingCashflow = cashFlow.find((element) => {\r\n  //         return element.id === 104 ? element.values.value.slice(-1)[0] : null;\r\n  //       });\r\n  //       const capitalExpenditure = cashFlow.find((element) => {\r\n  //         return element.id === 201 ? element.values.value.slice(-1)[0] : null;\r\n  //       });\r\n  //       const freeCashflow = operatingCashflow + capitalExpenditure;\r\n  //       const cashAndShortTermInvestments =\r\n  // \t  balanceSheet.find((element) => {\r\n  //         return element.id === 1010102\r\n  //           ? element.values.value.slice(-1)[0]\r\n  //           : null;\r\n  //       })\r\n  //       +\r\n  // \t  balanceSheet.find((element) => {\r\n  //         return element.id === 10102 ? element.values.value.slice(-1)[0] : null;\r\n  //       });\r\n\r\n  //       const epsGrowth5Y = growthRate5Y(ratioCafeF.EPS);\r\n  //       const epsGrowth10Y = growthRate10Y(ratioCafeF.EPS);\r\n  //       const shortTermDebt = balanceSheet.find((element) => {\r\n  //         return element.id === 3010101 ? element.values.value.slice(-1)[0] : null;\r\n  //       });\r\n  //       const longTermDebt = balanceSheet.find((element) => {\r\n  //         return element.id === 3010206 ? element.values.value.slice(-1)[0] : null;\r\n  //       });\r\n\r\n  //       const discountRate = calculateDiscountRate(profile.beta);\r\n  //       const sharesOutstanding = profile.sharesOutstanding;\r\n  //       const totalDebt = shortTermDebt + longTermDebt;\r\n\r\n  //       let stockV = {\r\n  //         netIncome,\r\n  //         operatingCashflow,\r\n  //         freeCashflow,\r\n  //         totalDebt,\r\n  //         cashAndShortTermInvestments,\r\n  //         epsGrowth5Y,\r\n  //         epsGrowth10Y,\r\n  //         gdpGrowthRate: 4.18,\r\n  //         discountRate,\r\n  //         sharesOutstanding,\r\n  //       };\r\n  //       setStockV(stockV);\r\n  //       setInitialState(stockV);\r\n  //     }\r\n  //   }, [ratio, ratioCafeF, cashFlow, balanceSheet, incomeStatement, profile]);\r\n\r\n  useEffect(() => {\r\n    setStockV(dataStockV);\r\n    setInitialState(dataStockV);\r\n  }, [dataStockV]);\r\n  useEffect(() => {\r\n    try {\r\n      let value = 0;\r\n      switch (index) {\r\n        case \"netIncome\":\r\n          value = stockV.netIncome;\r\n          setIndexData(stockV.netIncome);\r\n          break;\r\n        case \"operatingCashflow\":\r\n          value = stockV.operatingCashflow;\r\n          setIndexData(stockV.operatingCashflow);\r\n          break;\r\n        case \"freeCashflow\":\r\n          value = stockV.freeCashflow;\r\n          setIndexData(stockV.freeCashflow);\r\n          break;\r\n        default:\r\n          value = stockV.netIncome;\r\n          setIndexData(stockV.netIncome);\r\n          break;\r\n      }\r\n\r\n      const pv20Y = calculateInitialIV(\r\n        value,\r\n        stockV.epsGrowth5Y / 100,\r\n        stockV.discountRate / 100,\r\n        stockV.gdpGrowthRate / 100\r\n      );\r\n      const initialIV = (pv20Y * 1000000) / stockV.sharesOutstanding;\r\n      const debtPerShare =\r\n        (stockV.totalDebt * 1000000) / stockV.sharesOutstanding;\r\n      const cashPerShare =\r\n        (stockV.cashAndShortTermInvestments * 1000000) /\r\n        stockV.sharesOutstanding;\r\n      const finalIV = initialIV - debtPerShare + cashPerShare;\r\n\r\n      let calculatedData = {\r\n        pv20Y,\r\n        initialIV,\r\n        debtPerShare,\r\n        cashPerShare,\r\n        finalIV,\r\n        premium: (stockV.price / finalIV - 1) * 100,\r\n      };\r\n      setStockVCalculate(calculatedData);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [index, stockV]);\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"border-top mt-2\">Stock Valuation</h1>\r\n      <Container>\r\n        <Row xs=\"1\" md=\"2\">\r\n          <Col>\r\n            <ButtonGroup className=\"w-25\" value={index} onClick={handleChange}>\r\n              <Button variant=\"secondary\" value=\"netIncome\">\r\n                Net Income\r\n              </Button>\r\n              <Button variant=\"secondary\" value=\"operatingCashflow\">\r\n                Operating Cash Flow\r\n              </Button>\r\n              <Button variant=\"secondary\" value=\"freeCashflow\">\r\n                FreeCashFlow\r\n              </Button>\r\n            </ButtonGroup>\r\n          </Col>\r\n          <Col>\r\n            <Button variant=\"secondary\" onClick={handleReset}>\r\n              Reset\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form onSubmit={handleSubmit} ref={formRef} className=\"mb-3\">\r\n              <Row>\r\n                <Form.Group md=\"3\" controlId=\"indexData\">\r\n                  <Form.Label>Value</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Number\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(indexData)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"6\" controlId=\"totalDebt\">\r\n                  <Form.Label>Total Debt</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Total Debt\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.totalDebt)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"6\" controlId=\"cashAndShortTermInvestments\">\r\n                  <Form.Label>Cash and ShortTerm-Investments</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Cash And ShortTerm Investments\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.cashAndShortTermInvestments)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"epsGrowth5Y\">\r\n                  <Form.Label>EPS Growth5Y %</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"EPS Growth5Y\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.epsGrowth5Y)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"epsGrowth10Y\">\r\n                  <Form.Label>EPS Growth10Y %</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"EPS Growth10Y\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.epsGrowth10Y)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"gdpGrowthRate\">\r\n                  <Form.Label>GDP GrowthRate %</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"GDP Growth Rate\"\r\n                    defaultValue={toRender(stockV.gdpGrowthRate)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <br />\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"discountRate\">\r\n                  <Form.Label>Discount Rate %</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Discount Rate\"\r\n                    defaultValue={toRender(stockV.discountRate)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"sharesOutstanding\">\r\n                  <Form.Label>SharesOutstanding</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"SharesOutstanding\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.sharesOutstanding)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row>\r\n                <Form.Group md=\"4\" controlId=\"price\">\r\n                  <Form.Label>Last Close</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Price\"\r\n                    autoComplete=\"off\"\r\n                    defaultValue={toRender(stockV.price)}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <br />\r\n              <Button variant=\"secondary\" type=\"submit\">\r\n                Calculate Insintric Value\r\n              </Button>\r\n            </Form>\r\n          </Col>\r\n          <Col>\r\n            <Form>\r\n              <Form.Group md=\"3\" controlId=\"pv20Y\">\r\n                <Form.Label>PV of 20 yr</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"PV20Y\"\r\n                  defaultValue={toRender(stockVCalculate.pv20Y)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"6\" controlId=\"initialIV\" readOnly>\r\n                <Form.Label>Intrinsic Value before cash/debt</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Initial IV\"\r\n                  defaultValue={toRender(stockVCalculate.initialIV)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"6\" controlId=\"debtPerShare\" readOnly>\r\n                <Form.Label>Less (-) Debt Per Share</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Debt Per Share\"\r\n                  defaultValue={toRender(stockVCalculate.debtPerShare)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"4\" controlId=\"cashPerShare\" readOnly>\r\n                <Form.Label>Plus (+) Cash Per Share</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"EPS Growth 5Y\"\r\n                  defaultValue={toRender(stockVCalculate.cashPerShare)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"4\" controlId=\"finalIV\" readOnly>\r\n                <Form.Label>Final Intrinsic Value Per Share</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Final IV\"\r\n                  defaultValue={toRender(stockVCalculate.finalIV)}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group md=\"4\" controlId=\"premium\" readOnly>\r\n                <Form.Label>(Discount)/Premium %</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Premium\"\r\n                  defaultValue={toRender(stockVCalculate.premium)}\r\n                />\r\n              </Form.Group>\r\n              <br />\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StockValuationVN;\r\n","const growthRate5Y = (array) => {\r\n    if (array.length < 5) {\r\n        return (Math.pow((array[0] / array[array.length - 1]), 1 / (array.length - 1)) - 1) * 100\r\n    } else {\r\n        return (Math.pow((array[0] / array[4]), 1 / 5) - 1) * 100\r\n    }\r\n\r\n}\r\n\r\nconst growthRate10Y = (array) => {\r\n    if (array.length < 10) {\r\n        return (Math.pow((array[0] / array[array.length - 1]), 1 / (array.length - 1)) - 1) * 100\r\n    } else {\r\n        return (Math.pow((array[0] / array[9]), 1 / 10) - 1) * 100\r\n    }\r\n}\r\n\r\nconst average5Y = (array) => {\r\n    let sum = 0\r\n    for (let i = 0; i < 5; i++) {\r\n        sum += array[i]\r\n    }\r\n    return sum / 5;\r\n}\r\n// getEpsGrowth5Y();\r\nexport {\r\n    growthRate5Y,\r\n    growthRate10Y,\r\n    average5Y\r\n}","import React, { useEffect, useState, Suspense } from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport vmiContext from \"../../context/vmi-context\";\r\nimport SearchBar from \"./searchBarVN\";\r\nimport BasicInfoVN from \"./basicInfoVN\";\r\nimport TrendChartVN from \"./trendChartVN\";\r\nimport StockValuationVN from \"./stockValuationVN\";\r\nimport {\r\n  getIncomeStatementVN,\r\n  getRatioVN,\r\n  getRatioCafeF,\r\n  getBalanceSheetVN,\r\n  getCashFLowVN,\r\n  getCompanyProfileVN,\r\n  getPriceVN,\r\n} from \"./utils/api\";\r\nimport { calculateDiscountRate } from \"../vmiUS/function\";\r\nimport { growthRate5Y, growthRate10Y, average5Y } from \"./utils/functionVN\";\r\nimport Error from \"../Error\";\r\n\r\nrequire(\"dotenv\").config();\r\n\r\nconst VmiVN = () => {\r\n  const [symbol, setSymbol] = useState([]);\r\n  const [incomeStatement, setIncomeStatement] = useState({});\r\n  const [balanceSheet, setBalanceSheet] = useState({});\r\n  const [cashFlow, setCashFlow] = useState({});\r\n  const [ratio, setRatio] = useState([]);\r\n  const [ratioCafeF, setRatioCafeF] = useState([]);\r\n  const [profile, setProfile] = useState({});\r\n  const [priceVN, setPriceVN] = useState({});\r\n  const [dataBasicInfo, setDataBasicInfo] = useState({});\r\n  const [dataStockV, setDataStockV] = useState({});\r\n  const [dataTrendChart, setDataTrendChart] = useState({});\r\n  const [showError, setShowError] = useState(false);\r\n  const [messageError, setMessageError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    try {\r\n      if (symbol.length !== 0) {\r\n        getCompanyProfileVN(symbol, process.env.REACT_APP_FIREANT_KEY).then(\r\n          (data) => setProfile(data)\r\n        );\r\n        getIncomeStatementVN(symbol, process.env.REACT_APP_FIREANT_KEY).then(\r\n          (data) => setIncomeStatement(data)\r\n        );\r\n        getBalanceSheetVN(symbol, process.env.REACT_APP_FIREANT_KEY).then(\r\n          (data) => setBalanceSheet(data)\r\n        );\r\n        getCashFLowVN(symbol, process.env.REACT_APP_FIREANT_KEY).then((data) =>\r\n          setCashFlow(data)\r\n        );\r\n        getRatioVN(symbol, process.env.REACT_APP_FIREANT_KEY).then((data) =>\r\n          setRatio(data)\r\n        );\r\n        getPriceVN(symbol, process.env.REACT_APP_FIREANT_KEY).then((data) =>\r\n          setPriceVN(data)\r\n        );\r\n        getRatioCafeF(symbol).then((data) => setRatioCafeF(data));\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      setShowError(true);\r\n      setMessageError(\r\n        \"Unable to retrieve data from server. Please try again later!\"\r\n      );\r\n    }\r\n  }, [symbol]);\r\n  useEffect(() => {\r\n    try {\r\n      if (\r\n        Object.keys(incomeStatement).length !== 0 &&\r\n        Object.keys(balanceSheet).length !== 0 &&\r\n        Object.keys(cashFlow).length !== 0 &&\r\n        Object.keys(ratio).length !== 0 &&\r\n        Object.keys(ratioCafeF).length !== 0\r\n      ) {\r\n        // console.log(incomeStatement);\r\n        const epsGrowth5Y = growthRate5Y(ratioCafeF.EPS);\r\n        const epsGrowth10Y = growthRate10Y(ratioCafeF.EPS);\r\n        const roae5Y = average5Y(ratioCafeF.ROE); //This is ROE\r\n\r\n        //id phia truoc cho cac aco phieu chung khoan va ngan hang, ex VND, VDS, TPB, MBB\r\n        const revenue = incomeStatement.find((element) => element.id === 1)\r\n          ?.values.value;\r\n        const revenueGrowth5Y = growthRate5Y(revenue.slice().reverse());\r\n        const netIncome = incomeStatement.find((element) => element.id === 11)\r\n          ?.values.value;\r\n        const shortTermDebt =\r\n          balanceSheet\r\n            .find((element) => element.id === 30101)\r\n            ?.values.value.slice(-1)[0] ??\r\n          balanceSheet\r\n            .find((element) => element.id === 3010101)\r\n            ?.values.value.slice(-1)[0]; //Vay v n thu ti sn ti chnh ngn hn\r\n        const longTermDebt =\r\n          balanceSheet\r\n            .find((element) => element.id === 30102)\r\n            ?.values.value.slice(-1)[0] ??\r\n          balanceSheet\r\n            .find((element) => element.id === 3010206)\r\n            ?.values.value.slice(-1)[0]; // Vay v n thu ti sn ti chnh di hn\r\n        const operatingCashflow =\r\n          cashFlow.find((element) => element.id === 107)?.values.value ??\r\n          cashFlow.find((element) => element.id === 104)?.values.value; // id 107 for VND, VDS,... Lu chuyn tin thun t hot ng kinh doanh\r\n        const capitalExpenditure = cashFlow.find(\r\n          (element) => element.id === 201\r\n        )?.values.value;\r\n        const cashAndShortTermInvestments =\r\n          //Tien\r\n          (balanceSheet\r\n            .find((element) => element.id === 1010101)\r\n            ?.values.value.slice(-1)[0] ??\r\n            balanceSheet\r\n              .find((element) => element.id === 10101)\r\n              ?.values.value.slice(-1)[0] ??\r\n            balanceSheet\r\n              .find((element) => element.id === 101)\r\n              ?.values.value.slice(-1)[0]) +\r\n          (balanceSheet\r\n            .find((element) => element.id === 1010203)\r\n            ?.values.value.slice(-1)[0] ??\r\n            balanceSheet\r\n              .find((element) => element.id === 10102)\r\n              ?.values.value.slice(-1)[0]); //vnd: Cc  khon u t  gi n ngy o hn (HTM)\r\n        const peg =\r\n          ratio.find((element) => element.symbol === \"P/E\")?.value /\r\n          epsGrowth5Y;\r\n        const psg =\r\n          ratio.find((element) => element.symbol === \"P/S\")?.value /\r\n          revenueGrowth5Y;\r\n        const epsNormalizedAnnual = ratio.find(\r\n          (element) => element.symbol === \"EPS\"\r\n        )?.value;\r\n        const epsIndustry = ratio.find(\r\n          (element) => element.symbol === \"EPS\"\r\n        )?.industryValue;\r\n        const pbAnnual = ratio.find(\r\n          (element) => element.symbol === \"P/B\"\r\n        )?.value;\r\n        const pbIndustry = ratio.find(\r\n          (element) => element.symbol === \"P/B\"\r\n        )?.industryValue;\r\n        const peNormalizedAnnual = ratio.find(\r\n          (element) => element.symbol === \"P/E\"\r\n        )?.value;\r\n        const peIndustry = ratio.find(\r\n          (element) => element.symbol === \"P/E\"\r\n        )?.industryValue;\r\n        const psAnnual = ratio.find(\r\n          (element) => element.symbol === \"P/S\"\r\n        )?.value;\r\n        const psIndustry = ratio.find(\r\n          (element) => element.symbol === \"P/S\"\r\n        )?.industryValue;\r\n        const roeIndustry = ratio.find(\r\n          (element) => element.symbol === \"ROE\"\r\n        )?.industryValue;\r\n        const currentRatioAnnual = ratio.find(\r\n          (element) => element.symbol === \"TT Hin hnh\"\r\n        )?.value;\r\n        const currentRatioAnnualIndustry = ratio.find(\r\n          (element) => element.symbol === \"TT Hin hnh\"\r\n        )?.industryValue;\r\n        const netIncome_TTM = profile?.netProfit_TTM;\r\n\r\n        const amortization = cashFlow\r\n          .find((element) => element.id === 10201)\r\n          ?.values.value.slice(-1)[0]; // Khu hao TSC\r\n        const interestOnDeposits =\r\n          cashFlow\r\n            .find((element) => element.if === 302)\r\n            ?.values.value.slice(-1)[0] ??\r\n          cashFlow\r\n            .find((element) => element.id === 10208)\r\n            ?.values.value.slice(-1)[0];\r\n        const interestIncome =\r\n          cashFlow\r\n            .find((element) => element.id === 205)\r\n            ?.values.value.slice(-1)[0] ??\r\n          cashFlow\r\n            .find((element) => element.id === 10209)\r\n            ?.values.value.slice(-1)[0]; //VND: Tin thu v c tc v li nhun c chia\r\n        const interestExpense = cashFlow\r\n          .find((element) => element.id === 10210)\r\n          ?.values.value.slice(-1)[0]; //VnD: ko co\r\n        const sharesOutstanding = profile?.sharesOutstanding;\r\n        const price = priceVN?.priceClose;\r\n        const dividend = profile?.dividend;\r\n        const dividendYield = profile?.dividendYield * 100;\r\n\r\n        const totalDebt = shortTermDebt + longTermDebt;\r\n        const ebitda = netIncome.slice(-1)[0] + amortization + interestExpense;\r\n        const netInterestIncome =\r\n          interestOnDeposits + interestIncome - interestExpense;\r\n        const debtEbitda = totalDebt / ebitda;\r\n        const debtServicingRatio =\r\n          netInterestIncome > 0\r\n            ? 0\r\n            : Math.abs(\r\n                (netInterestIncome / operatingCashflow.slice(-1)[0]) * 100\r\n              );\r\n        const freeCashflow_TTM =\r\n          operatingCashflow.slice(-1)[0] + capitalExpenditure.slice(-1)[0];\r\n        const discountRate = calculateDiscountRate(profile.beta);\r\n\r\n        let freeCashFlow = [];\r\n        for (let i = 0; i < 6; i++) {\r\n          freeCashFlow.push(operatingCashflow[i] + capitalExpenditure[i]);\r\n        }\r\n        //get Years of Data [2020, 2021, 2022,...]\r\n        const period = incomeStatement.find((element) => element.id === 1)\r\n          ?.values.period;\r\n\r\n        setDataBasicInfo({\r\n          epsNormalizedAnnual,\r\n          epsIndustry,\r\n          pbAnnual,\r\n          pbIndustry,\r\n          peNormalizedAnnual,\r\n          peIndustry,\r\n          psAnnual,\r\n          psIndustry,\r\n          epsGrowth5Y,\r\n          peg,\r\n          psg,\r\n          epsGrowth10Y,\r\n          roae5Y,\r\n          roeIndustry,\r\n          currentRatioAnnual,\r\n          currentRatioAnnualIndustry,\r\n          totalDebt: totalDebt / 1000,\r\n          ebitda: ebitda / 1000,\r\n          debtEbitda,\r\n          netInterestIncome: netInterestIncome / 1000,\r\n          operatingCashflow: operatingCashflow.slice(-1)[0] / 1000,\r\n          debtServicingRatio,\r\n          netIncome,\r\n          dividend,\r\n          dividendYield,\r\n        });\r\n        setDataStockV({\r\n          netIncome: netIncome_TTM / 1000000000,\r\n          operatingCashflow: operatingCashflow.slice(-1)[0] / 1000,\r\n          freeCashflow: freeCashflow_TTM / 1000,\r\n          totalDebt: totalDebt / 1000,\r\n          cashAndShortTermInvestments: cashAndShortTermInvestments / 1000,\r\n          epsGrowth5Y,\r\n          epsGrowth10Y,\r\n          gdpGrowthRate: 4.18,\r\n          discountRate,\r\n          sharesOutstanding,\r\n          price,\r\n        });\r\n        setDataTrendChart({\r\n          revenue,\r\n          netIncome,\r\n          operatingCashflow,\r\n          freeCashFlow,\r\n          period,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      setShowError(true);\r\n      setMessageError(\r\n        \"Unable to calculate data from server. Please try again later!\"\r\n      );\r\n    }\r\n  }, [\r\n    incomeStatement,\r\n    balanceSheet,\r\n    cashFlow,\r\n    ratio,\r\n    ratioCafeF,\r\n    priceVN,\r\n    profile,\r\n  ]);\r\n  return (\r\n    <>\r\n      <Suspense fallback={<h1>Still Loading</h1>}>\r\n        <vmiContext.Provider\r\n          value={{\r\n            profile,\r\n            incomeStatement,\r\n            balanceSheet,\r\n            cashFlow,\r\n            ratio,\r\n            ratioCafeF,\r\n            dataBasicInfo,\r\n            dataStockV,\r\n            dataTrendChart,\r\n          }}\r\n        >\r\n          <Error\r\n            showError={showError}\r\n            setShowError={setShowError}\r\n            messageError={messageError}\r\n          />\r\n          <Container fluid className=\"mt-3\">\r\n            <Row>\r\n              <Col\r\n                xs={1}\r\n                className=\"d-flex align-items-center justify-content-center\"\r\n              >\r\n                <div>Symbol</div>\r\n              </Col>\r\n              <Col xs={2} md={4}>\r\n                <SearchBar setSymbol={setSymbol} />\r\n              </Col>\r\n              <div className=\"text-muted\">All number is in billions</div>\r\n            </Row>\r\n            <Row>\r\n              <Col xs lg=\"5\">\r\n                <h1 className=\"border-top mt-2\">Basic Info</h1>\r\n                <BasicInfoVN />\r\n              </Col>\r\n              <Col>\r\n                <TrendChartVN />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs>\r\n                <StockValuationVN />\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </vmiContext.Provider>\r\n      </Suspense>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VmiVN;\r\n","import React from \"react\";\r\nimport { Switch, Route, Link } from \"react-router-dom\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport NavItem from \"react-bootstrap/NavItem\";\r\n// import Schwab from './components/schwab/schwab'\r\n// import Idragon from './components/idragon/idragon'\r\nimport VmiUS from \"./components/vmiUS/vmiUS\";\r\nimport VmiVN from \"./components/vmiVN/vmiVN\";\r\n\r\n//import for bootstrap working in dev_env but when deploy to heroku maybe fail\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <Navbar expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n        <Container>\r\n          <Navbar.Brand>\r\n            <Nav.Link as={Link} to=\"/vmiUS\">\r\n              idrsch-Vmi\r\n            </Nav.Link>\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav>\r\n              <NavItem href=\"/vmiUS\">\r\n                <Nav.Link as={Link} to=\"/vmiUS\">\r\n                  VmiUS\r\n                </Nav.Link>\r\n              </NavItem>\r\n            </Nav>\r\n            <Nav>\r\n              <NavItem href=\"/vmiVN\">\r\n                <Nav.Link as={Link} to=\"/vmiVN\">\r\n                  VmiVN\r\n                </Nav.Link>\r\n              </NavItem>\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n      <Switch>\r\n\t  <Route path=\"/apps/stockApp\">\r\n          <VmiUS />\r\n        </Route>\r\n        <Route path=\"/vmiUS\">\r\n          <VmiUS />\r\n        </Route>\r\n        <Route path=\"/vmiVN\">\r\n          <VmiVN />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <VmiUS />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n    <BrowserRouter basename=\"/apps/stockApp\">\r\n        <App />\r\n    </BrowserRouter>\r\n  // </React.StrictMode>\r\n  ,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// if (window.location.pathname === \"/\") {\r\n//   window.location.replace(\"/apps/stockApp\")\r\n// }\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}